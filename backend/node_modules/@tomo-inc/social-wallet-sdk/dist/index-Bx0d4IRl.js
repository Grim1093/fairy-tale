"use strict";var e=require("eventemitter3"),t=require("uuid"),s=require("axios"),n=require("loglevel"),a=require("json-bigint"),r=require("@walletconnect/jsonrpc-http-connection"),i=require("@walletconnect/jsonrpc-provider"),o=require("viem"),c=require("@solana/web3.js"),l=require("@mysten/sui/transactions"),d=require("querystring"),u=require("@tomo-inc/shared-type"),h=require("@solana/spl-token"),p=require("bn.js");function m(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const g="2.30.6";let y=({docsBaseUrl:e,docsPath:t="",docsSlug:s})=>t?`${e??"https://viem.sh"}${t}${s?"#"+s:""}`:void 0,f="viem@"+g;class b extends Error{constructor(e,t={}){const s=t.cause instanceof b?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof b&&t.cause.docsPath||t.docsPath,a=y?.({...t,docsPath:n});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...a?["Docs: "+a]:[],...s?["Details: "+s]:[],...f?["Version: "+f]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=g}walk(e){return w(this,e)}}function w(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&void 0!==e.cause?w(e.cause,t):t?null:e}class x extends b{constructor({max:e,min:t,signed:s,size:n,value:a}){super(`Number "${a}" is not in safe ${n?`${8*n}-bit ${s?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class v extends b{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function P(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function k(e){return P(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function I(e,{dir:t="left"}={}){let s="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;s.length-1>e&&""+s["left"===t?e:s.length-e-1]=="0";e++)n++;return s="left"===t?s.slice(n):s.slice(0,s.length-n),"string"==typeof e?(1===s.length&&"right"===t&&(s+="0"),"0x"+(s.length%2==1?"0"+s:s)):s}class E extends b{constructor({offset:e,position:t,size:s}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${s}).`,{name:"SliceOffsetOutOfBoundsError"})}}class T extends b{constructor({size:e,targetSize:t,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function A(e,{dir:t,size:s=32}={}){return"string"==typeof e?function(e,{dir:t,size:s=32}={}){if(null===s)return e;const n=e.replace("0x","");if(n.length>2*s)throw new T({size:Math.ceil(n.length/2),targetSize:s,type:"hex"});return"0x"+n["right"===t?"padEnd":"padStart"](2*s,"0")}(e,{dir:t,size:s}):function(e,{dir:t,size:s=32}={}){if(null===s)return e;if(e.length>s)throw new T({size:e.length,targetSize:s,type:"bytes"});const n=new Uint8Array(s);for(let a=0;s>a;a++){const r="right"===t;n[r?a:s-a-1]=e[r?a:e.length-a-1]}return n}(e,{dir:t,size:s})}const C=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function B(e,t={}){return"number"==typeof e||"bigint"==typeof e?U(e,t):"string"==typeof e?function(e,t={}){const s=F.encode(e);return L(s,t)}(e,t):"boolean"==typeof e?function(e,t={}){const s="0x"+Number(e);if("number"==typeof t.size)return D(s,{size:t.size}),A(s,{size:t.size});return s}(e,t):L(e,t)}function L(e,t={}){let s="";for(let t=0;e.length>t;t++)s+=C[e[t]];const n="0x"+s;return"number"==typeof t.size?(D(n,{size:t.size}),A(n,{dir:"right",size:t.size})):n}function U(e,t={}){const{signed:s,size:n}=t,a=BigInt(e);let r;n?r=s?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));const i="bigint"==typeof r&&s?-r-1n:0;if(r&&a>r||i>a){const t="bigint"==typeof e?"n":"";throw new x({max:r?`${r}${t}`:void 0,min:`${i}${t}`,signed:s,size:n,value:`${e}${t}`})}const o="0x"+(s&&0>a?(1n<<BigInt(8*n))+BigInt(a):a).toString(16);return n?A(o,{size:n}):o}const F=new TextEncoder;const S=new TextEncoder;function G(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const s=U(e,t);return M(s)}(e,t):"boolean"==typeof e?function(e,t={}){const s=new Uint8Array(1);if(s[0]=Number(e),"number"==typeof t.size)return D(s,{size:t.size}),A(s,{size:t.size});return s}(e,t):P(e)?M(e,t):R(e,t)}const z={zero:48,nine:57,A:65,F:70,a:97,f:102};function $(e){return z.zero>e||e>z.nine?z.A>e||e>z.F?z.a>e||e>z.f?void 0:e-(z.a-10):e-(z.A-10):e-z.zero}function M(e,t={}){let s=e;t.size&&(D(s,{size:t.size}),s=A(s,{dir:"right",size:t.size}));let n=s.slice(2);n.length%2&&(n="0"+n);const a=n.length/2,r=new Uint8Array(a);for(let e=0,t=0;a>e;e++){const s=$(n.charCodeAt(t++)),a=$(n.charCodeAt(t++));if(void 0===s||void 0===a)throw new b(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);r[e]=16*s+a}return r}function R(e,t={}){const s=S.encode(e);return"number"==typeof t.size?(D(s,{size:t.size}),A(s,{dir:"right",size:t.size})):s}function D(e,{size:t}){if(k(e)>t)throw new v({givenSize:k(e),maxSize:t})}function N(e,t={}){const{signed:s}=t;t.size&&D(e,{size:t.size});const n=BigInt(e);if(!s)return n;const a=(e.length-2)/2;return n>(1n<<8n*BigInt(a)-1n)-1n?n-BigInt("0x"+"f".padStart(2*a,"f"))-1n:n}function O(e,t={}){return Number(N(e,t))}function _(e,t){return({exclude:s,format:n})=>({exclude:s,format:e=>{const a=t(e);if(s)for(const e of s)delete a[e];return{...a,...n(e)}},type:e})}const H={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function q(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?O(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?O(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?H[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=e.authorizationList.map((e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)})))),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n==0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}const j=_("transaction",q);function K(e){const t=(e.transactions??[]).map((e=>"string"==typeof e?e:q(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const W=_("block",K);function V(e,{args:t,eventName:s}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...s?{args:t,eventName:s}:{}}}const J={"0x0":"reverted","0x1":"success"};function X(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>V(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?O(e.transactionIndex):null,status:e.status?J[e.status]:null,type:e.type?H[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Z=_("transactionReceipt",X),Y={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Q(e){const t={};return void 0!==e.authorizationList&&(t.authorizationList=e.authorizationList.map((e=>({address:e.address,r:e.r?U(BigInt(e.r)):e.r,s:e.s?U(BigInt(e.s)):e.s,chainId:U(e.chainId),nonce:U(e.nonce),...void 0!==e.yParity?{yParity:U(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:U(e.v)}:{}})))),void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&(t.blobs="string"!=typeof e.blobs[0]?e.blobs.map((e=>L(e))):e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=U(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=U(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=U(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=U(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=U(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=U(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=Y[e.type]),void 0!==e.value&&(t.value=U(e.value)),t}const ee=_("transactionRequest",Q);const te=2n**256n-1n,se=50000n,ne=2097120n,ae={block:W({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=ae.transaction?.format(e);return"0x71"===t.typeHex?t.type="eip712":"0xff"===t.typeHex&&(t.type="priority"),t}));return{l1BatchNumber:e.l1BatchNumber?N(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?N(e.l1BatchTimestamp):null,transactions:t}}}),transaction:j({format(e){const t={};return"0x71"===e.type?t.type="eip712":"0xff"===e.type&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?N(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?N(e.l1BatchTxIndex):null}}}),transactionReceipt:Z({format:e=>({l1BatchNumber:e.l1BatchNumber?N(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?N(e.l1BatchTxIndex):null,logs:e.logs.map((e=>({...V(e),l1BatchNumber:e.l1BatchNumber?N(e.l1BatchNumber):null,transactionLogIndex:O(e.transactionLogIndex),logType:e.logType}))),l2ToL1Logs:e.l2ToL1Logs.map((e=>({blockNumber:N(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?N(e.l1BatchNumber):null,transactionIndex:N(e.transactionIndex),shardId:N(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:N(e.logIndex)})))})}),transactionRequest:ee({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format:e=>e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:B(e.gasPerPubdata)}:{gasPerPubdata:B(se)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(M(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map((e=>Array.from(M(e))))}:{},...e.customSignature?{customSignature:Array.from(M(e.customSignature))}:{}},type:"0x71"}:{}})};function re(e){return"0x"+e.reduce(((e,t)=>e+t.replace("0x","")),"")}class ie extends b{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class oe extends b{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class ce extends b{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const le={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ce({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(0>e||e>this.bytes.length-1)throw new oe({length:this.bytes.length,position:e})},decrementPosition(e){if(0>e)throw new ie({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(0>e)throw new ie({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const s=t??this.position;return this.assertPosition(s+e-1),this.bytes.subarray(s,s+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const s=this.inspectBytes(e);return this.position+=t??e,s},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function de(e,{recursiveReadLimit:t=8192}={}){const s=Object.create(le);return s.bytes=e,s.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),s.positionReadCount=new Map,s.recursiveReadLimit=t,s}function ue(e,t="hex"){const s=he(e),n=de(new Uint8Array(s.length));return s.encode(n),"hex"===t?L(n.bytes):n.bytes}function he(e){return Array.isArray(e)?function(e){const t=e.reduce(((e,t)=>e+t.length),0),s=pe(t);return{length:t>55?1+s+t:1+t,encode(n){t>55?(n.pushByte(247+s),1===s?n.pushUint8(t):2===s?n.pushUint16(t):3===s?n.pushUint24(t):n.pushUint32(t)):n.pushByte(192+t);for(const{encode:t}of e)t(n)}}}(e.map((e=>he(e)))):function(e){const t="string"==typeof e?M(e):e,s=pe(t.length),n=1===t.length&&128>t[0]?1:t.length>55?1+s+t.length:1+t.length;return{length:n,encode(e){1===t.length&&128>t[0]?e.pushBytes(t):t.length>55?(e.pushByte(183+s),1===s?e.pushUint8(t.length):2===s?e.pushUint16(t.length):3===s?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t)):(e.pushByte(128+t.length),e.pushBytes(t))}}}(e)}function pe(e){if(256>e)return 1;if(65536>e)return 2;if(2**24>e)return 3;if(2**32>e)return 4;throw new b("Length is too large.")}const me={gwei:9,wei:18},ge={ether:-9,wei:9};function ye(e,t){let s=""+e;const n=s.startsWith("-");n&&(s=s.slice(1)),s=s.padStart(t,"0");let[a,r]=[s.slice(0,s.length-t),s.slice(s.length-t)];return r=r.replace(/(0+)$/,""),`${n?"-":""}${a||"0"}${r?"."+r:""}`}function fe(e,t="wei"){return ye(e,me[t])}function be(e,t="wei"){return ye(e,ge[t])}function we(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),s=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${(e+":").padEnd(s+1)}  ${t}`)).join("\n")}class xe extends b{constructor(){super("Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.\nUse `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others.",{name:"FeeConflictError"})}}class ve extends b{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Pe extends b{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",we(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ke extends b{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}function Ie(e){const{kzg:t}=e,s=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map((e=>M(e))):e.blobs,a=[];for(const e of n)a.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===s?a:a.map((e=>L(e)))}function Ee(e){const{kzg:t}=e,s=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map((e=>M(e))):e.blobs,a="string"==typeof e.commitments[0]?e.commitments.map((e=>M(e))):e.commitments,r=[];for(let e=0;n.length>e;e++){r.push(Uint8Array.from(t.computeBlobKzgProof(n[e],a[e])))}return"bytes"===s?r:r.map((e=>L(e)))}
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Te(e){if(!Number.isSafeInteger(e)||0>e)throw Error("positive integer expected, got "+e)}function Ae(e,...t){if(!((s=e)instanceof Uint8Array||ArrayBuffer.isView(s)&&"Uint8Array"===s.constructor.name))throw Error("Uint8Array expected");var s;if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function Ce(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function Be(e,t){Ae(e);const s=t.outputLen;if(s>e.length)throw Error("digestInto() expects output buffer of length at least "+s)}function Le(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Ue(...e){for(let t=0;e.length>t;t++)e[t].fill(0)}function Fe(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Se(e,t){return e<<32-t|e>>>t}const Ge=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function ze(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const $e=Ge?e=>e:e=>ze(e);const Me=Ge?e=>e:function(e){for(let t=0;e.length>t;t++)e[t]=ze(e[t]);return e};function Re(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e)),Ae(e),e}class De{}function Ne(e){const t=t=>e().update(Re(t)).digest(),s=e();return t.outputLen=s.outputLen,t.blockLen=s.blockLen,t.create=()=>e(),t}function Oe(e,t,s){return e&t^e&s^t&s}class _e extends De{constructor(e,t,s,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=s,this.isLE=n,this.buffer=new Uint8Array(e),this.view=Fe(this.buffer)}update(e){Ce(this),Ae(e=Re(e));const{view:t,buffer:s,blockLen:n}=this,a=e.length;for(let r=0;a>r;){const i=Math.min(n-this.pos,a-r);if(i!==n)s.set(e.subarray(r,r+i),this.pos),this.pos+=i,r+=i,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Fe(e);for(;a-r>=n;r+=n)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ce(this),Be(e,this),this.finished=!0;const{buffer:t,view:s,blockLen:n,isLE:a}=this;let{pos:r}=this;t[r++]=128,Ue(this.buffer.subarray(r)),this.padOffset>n-r&&(this.process(s,0),r=0);for(let e=r;n>e;e++)t[e]=0;!function(e,t,s,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,s,n);const a=BigInt(32),r=BigInt(4294967295),i=Number(s>>a&r),o=Number(s&r),c=n?0:4;e.setUint32(t+(n?4:0),i,n),e.setUint32(t+c,o,n)}(s,n-8,BigInt(8*this.length),a),this.process(s,0);const i=Fe(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;c>e;e++)i.setUint32(4*e,l[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const s=e.slice(0,t);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:s,length:n,finished:a,destroyed:r,pos:i}=this;return e.destroyed=r,e.finished=a,e.length=n,e.pos=i,n%t&&e.buffer.set(s),e}clone(){return this._cloneInto()}}const He=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qe=BigInt(2**32-1),je=BigInt(32);function Ke(e,t=!1){return t?{h:Number(e&qe),l:Number(e>>je&qe)}:{h:0|Number(e>>je&qe),l:0|Number(e&qe)}}const We=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ve=new Uint32Array(64);class Je extends _e{constructor(e=32){super(64,e,8,!1),this.A=0|He[0],this.B=0|He[1],this.C=0|He[2],this.D=0|He[3],this.E=0|He[4],this.F=0|He[5],this.G=0|He[6],this.H=0|He[7]}get(){const{A:e,B:t,C:s,D:n,E:a,F:r,G:i,H:o}=this;return[e,t,s,n,a,r,i,o]}set(e,t,s,n,a,r,i,o){this.A=0|e,this.B=0|t,this.C=0|s,this.D=0|n,this.E=0|a,this.F=0|r,this.G=0|i,this.H=0|o}process(e,t){for(let s=0;16>s;s++,t+=4)Ve[s]=e.getUint32(t,!1);for(let e=16;64>e;e++){const t=Ve[e-15],s=Ve[e-2],n=Se(t,7)^Se(t,18)^t>>>3,a=Se(s,17)^Se(s,19)^s>>>10;Ve[e]=a+Ve[e-7]+n+Ve[e-16]|0}let{A:s,B:n,C:a,D:r,E:i,F:o,G:c,H:l}=this;for(let e=0;64>e;e++){const t=l+(Se(i,6)^Se(i,11)^Se(i,25))+((d=i)&o^~d&c)+We[e]+Ve[e]|0,u=(Se(s,2)^Se(s,13)^Se(s,22))+Oe(s,n,a)|0;l=c,c=o,o=i,i=r+t|0,r=a,a=n,n=s,s=t+u|0}var d;s=s+this.A|0,n=n+this.B|0,a=a+this.C|0,r=r+this.D|0,i=i+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(s,n,a,r,i,o,c,l)}roundClean(){Ue(Ve)}destroy(){this.set(0,0,0,0,0,0,0,0),Ue(this.buffer)}}const Xe=Ne((()=>new Je));function Ze(e,t){const s=t||"hex",n=Xe(P(e,{strict:!1})?G(e):e);return"bytes"===s?n:B(n)}function Ye(e){const{commitment:t,version:s=1}=e,n=e.to??("string"==typeof t?"hex":"bytes"),a=Ze(t,"bytes");return a.set([s],0),"bytes"===n?a:L(a)}const Qe=4096,et=131072,tt=761855;class st extends b{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class nt extends b{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class at extends b{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32","Received: "+t],name:"InvalidVersionedHashSizeError"})}}class rt extends b{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:["Expected: 1","Received: "+t],name:"InvalidVersionedHashVersionError"})}}function it(e){const{data:t,kzg:s,to:n}=e,a=e.blobs??function(e){const t=e.to??("string"==typeof e.data?"hex":"bytes"),s="string"==typeof e.data?M(e.data):e.data,n=k(s);if(!n)throw new nt;if(n>tt)throw new st({maxSize:tt,size:n});const a=[];let r=!0,i=0;for(;r;){const e=de(new Uint8Array(et));let t=0;for(;Qe>t;){const n=s.slice(i,i+31);if(e.pushByte(0),e.pushBytes(n),31>n.length){e.pushByte(128),r=!1;break}t++,i+=31}a.push(e)}return a.map("bytes"===t?e=>e.bytes:e=>L(e.bytes))}({data:t,to:n}),r=e.commitments??Ie({blobs:a,kzg:s,to:n}),i=e.proofs??Ee({blobs:a,commitments:r,kzg:s,to:n}),o=[];for(let e=0;a.length>e;e++)o.push({blob:a[e],commitment:r[e],proof:i[e]});return o}class ot extends b{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class ct extends b{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class lt extends b{constructor({cause:e,message:t}={}){const s=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${s?"with reason: "+s:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(lt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class dt extends b{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${be(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(dt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class ut extends b{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?" = "+be(t):""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(ut,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ht extends b{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(ht,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class pt extends b{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(pt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class mt extends b{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(mt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class gt extends b{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(gt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class yt extends b{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(yt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class ft extends b{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(ft,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class bt extends b{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(bt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class wt extends b{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:s}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${be(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${s?` = ${be(s)} gwei`:""}).`,{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(wt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class xt extends b{constructor({cause:e}){super("An error occurred while executing: "+e?.shortMessage,{cause:e,name:"UnknownNodeError"})}}class vt extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const Pt=BigInt(0),kt=BigInt(1),It=BigInt(2),Et=BigInt(7),Tt=BigInt(256),At=BigInt(113),Ct=[],Bt=[],Lt=[];for(let e=0,t=kt,s=1,n=0;24>e;e++){[s,n]=[n,(2*s+3*n)%5],Ct.push(2*(5*n+s)),Bt.push((e+1)*(e+2)/2%64);let a=Pt;for(let e=0;7>e;e++)t=(t<<kt^(t>>Et)*At)%Tt,t&It&&(a^=kt<<(kt<<BigInt(e))-kt);Lt.push(a)}const Ut=function(e,t=!1){const s=e.length;let n=new Uint32Array(s),a=new Uint32Array(s);for(let r=0;s>r;r++){const{h:s,l:i}=Ke(e[r],t);[n[r],a[r]]=[s,i]}return[n,a]}(Lt,!0),Ft=Ut[0],St=Ut[1],Gt=(e,t,s)=>s>32?((e,t,s)=>t<<s-32|e>>>64-s)(e,t,s):((e,t,s)=>e<<s|t>>>32-s)(e,t,s),zt=(e,t,s)=>s>32?((e,t,s)=>e<<s-32|t>>>64-s)(e,t,s):((e,t,s)=>t<<s|e>>>32-s)(e,t,s);class $t extends De{constructor(e,t,s,n=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=s,this.enableXOF=n,this.rounds=a,Te(s),0>=e||e>=200)throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Le(this.state)}clone(){return this._cloneInto()}keccak(){Me(this.state32),function(e,t=24){const s=new Uint32Array(10);for(let n=24-t;24>n;n++){for(let t=0;10>t;t++)s[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;10>t;t+=2){const n=(t+8)%10,a=(t+2)%10,r=s[a],i=s[a+1],o=Gt(r,i,1)^s[n],c=zt(r,i,1)^s[n+1];for(let s=0;50>s;s+=10)e[t+s]^=o,e[t+s+1]^=c}let t=e[2],a=e[3];for(let s=0;24>s;s++){const n=Bt[s],r=Gt(t,a,n),i=zt(t,a,n),o=Ct[s];t=e[o],a=e[o+1],e[o]=r,e[o+1]=i}for(let t=0;50>t;t+=10){for(let n=0;10>n;n++)s[n]=e[t+n];for(let n=0;10>n;n++)e[t+n]^=~s[(n+2)%10]&s[(n+4)%10]}e[0]^=Ft[n],e[1]^=St[n]}Ue(s)}(this.state32,this.rounds),Me(this.state32),this.posOut=0,this.pos=0}update(e){Ce(this),Ae(e=Re(e));const{blockLen:t,state:s}=this,n=e.length;for(let a=0;n>a;){const r=Math.min(t-this.pos,n-a);for(let t=0;r>t;t++)s[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:s,blockLen:n}=this;e[s]^=t,128&t&&s===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){Ce(this,!1),Ae(e),this.finish();const t=this.state,{blockLen:s}=this;for(let n=0,a=e.length;a>n;){s>this.posOut||this.keccak();const r=Math.min(s-this.posOut,a-n);e.set(t.subarray(this.posOut,this.posOut+r),n),this.posOut+=r,n+=r}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Te(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Be(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ue(this.state)}_cloneInto(e){const{blockLen:t,suffix:s,outputLen:n,rounds:a,enableXOF:r}=this;return e||(e=new $t(t,s,n,r,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=s,e.outputLen=n,e.enableXOF=r,e.destroyed=this.destroyed,e}}const Mt=(()=>{return e=1,t=136,s=32,Ne((()=>new $t(t,e,s)));var e,t,s})();const Rt=new vt(8192);function Dt(e,t){if(Rt.has(`${e}.${t}`))return Rt.get(`${e}.${t}`);const s=e.substring(2).toLowerCase(),n=(a=R(s),Mt(P(a,{strict:!1})?G(a):a));var a;const r=s.split("");for(let e=0;40>e;e+=2)n[e>>1]>>4>=8&&r[e]&&(r[e]=r[e].toUpperCase()),(15&n[e>>1])>=8&&r[e+1]&&(r[e+1]=r[e+1].toUpperCase());const i="0x"+r.join("");return Rt.set(`${e}.${t}`,i),i}const Nt=/^0x[a-fA-F0-9]{40}$/,Ot=new vt(8192);function _t(e,t){const{strict:s=!0}=t??{},n=`${e}.${s}`;if(Ot.has(n))return Ot.get(n);const a=!(!Nt.test(e)||e.toLowerCase()!==e&&s&&Dt(e)!==e);return Ot.set(n,a),a}function Ht(e,t,s,{strict:n}={}){return P(e,{strict:!1})?function(e,t,s,{strict:n}={}){const a="0x"+e.replace("0x","").slice(2*t,2*s);n&&qt(a,t,s);return a}(e,t,s,{strict:n}):function(e,t,s,{strict:n}={}){const a=e.slice(t,s);n&&qt(a,t,s);return a}(e,t,s,{strict:n})}function qt(e,t,s){if(k(e)!==s-t)throw new E({offset:s,position:"end",size:k(e)})}function jt(e){const{chainId:t,maxPriorityFeePerGas:s,maxFeePerGas:n,to:a}=e;if(0>=t)throw new ct({chainId:t});if(a&&!_t(a))throw new ot({address:a});if(n&&n>te)throw new dt({maxFeePerGas:n});if(s&&n&&s>n)throw new wt({maxFeePerGas:n,maxPriorityFeePerGas:s})}function Kt(e){if(!e||0===e.length)return[];const t=[];for(let s=0;e.length>s;s++){const{address:n,storageKeys:a}=e[s];for(let e=0;a.length>e;e++)if(a[e].length-2!=64)throw new ke({storageKey:a[e]});if(!_t(n,{strict:!1}))throw new ot({address:n});t.push([n,a])}return t}function Wt(e,t){const s=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new Pe({transaction:e})}(e);return"eip1559"===s?function(e,t){const{chainId:s,gas:n,nonce:a,to:r,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:l,data:d}=e;jt(e);const u=Kt(l),h=[B(s),a?B(a):"0x",c?B(c):"0x",o?B(o):"0x",n?B(n):"0x",r??"0x",i?B(i):"0x",d??"0x",u,...Vt(e,t)];return re(["0x02",ue(h)])}(e,t):"eip2930"===s?function(e,t){const{chainId:s,gas:n,data:a,nonce:r,to:i,value:o,accessList:c,gasPrice:l}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:s,gasPrice:n,maxFeePerGas:a,to:r}=e;if(0>=t)throw new ct({chainId:t});if(r&&!_t(r))throw new ot({address:r});if(s||a)throw new b("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>te)throw new dt({maxFeePerGas:n})}(e);const d=Kt(c),u=[B(s),r?B(r):"0x",l?B(l):"0x",n?B(n):"0x",i??"0x",o?B(o):"0x",a??"0x",d,...Vt(e,t)];return re(["0x01",ue(u)])}(e,t):"eip4844"===s?function(e,t){const{chainId:s,gas:n,nonce:a,to:r,value:i,maxFeePerBlobGas:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:u}=e;!function(e){const{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new nt;for(const e of t){const t=k(e),s=O(Ht(e,0,1));if(32!==t)throw new at({hash:e,size:t});if(1!==s)throw new rt({hash:e,version:s})}}jt(e)}(e);let h=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(void 0===h||void 0===p)){const t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map((e=>L(e))),s=e.kzg,n=Ie({blobs:t,kzg:s});if(void 0===h&&(h=function(e){const{commitments:t,version:s}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),a=[];for(const e of t)a.push(Ye({commitment:e,to:n,version:s}));return a}({commitments:n})),void 0===p){p=it({blobs:t,commitments:n,proofs:Ee({blobs:t,commitments:n,kzg:s})})}}const m=Kt(d),g=[B(s),a?B(a):"0x",l?B(l):"0x",c?B(c):"0x",n?B(n):"0x",r??"0x",i?B(i):"0x",u??"0x",m,o?B(o):"0x",h??[],...Vt(e,t)],y=[],f=[],b=[];if(p)for(let e=0;p.length>e;e++){const{blob:t,commitment:s,proof:n}=p[e];y.push(t),f.push(s),b.push(n)}return re(["0x03",ue(p?[g,y,f,b]:g)])}(e,t):"eip7702"===s?function(e,t){const{authorizationList:s,chainId:n,gas:a,nonce:r,to:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:u}=e;!function(e){const{authorizationList:t}=e;if(t)for(const e of t){const{chainId:t}=e,s=e.address;if(!_t(s))throw new ot({address:s});if(0>t)throw new ct({chainId:t})}jt(e)}(e);const h=Kt(d),p=function(e){if(!e||0===e.length)return[];const t=[];for(const s of e){const{chainId:e,nonce:n,...a}=s,r=s.address;t.push([e?B(e):"0x",r,n?B(n):"0x",...Vt({},a)])}return t}(s);return re(["0x04",ue([B(n),r?B(r):"0x",l?B(l):"0x",c?B(c):"0x",a?B(a):"0x",i??"0x",o?B(o):"0x",u??"0x",h,p,...Vt(e,t)])])}(e,t):function(e,t){const{chainId:s=0,gas:n,data:a,nonce:r,to:i,value:o,gasPrice:c}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:s,gasPrice:n,maxFeePerGas:a,to:r}=e;if(r&&!_t(r))throw new ot({address:r});if(void 0!==t&&0>=t)throw new ct({chainId:t});if(s||a)throw new b("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>te)throw new dt({maxFeePerGas:n})}(e);let l=[r?B(r):"0x",c?B(c):"0x",n?B(n):"0x",i??"0x",o?B(o):"0x",a??"0x"];if(t){const e=(()=>{if(t.v>=35n){return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n)}if(s>0)return BigInt(2*s)+BigInt(35n+t.v-27n);const e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new ve({v:t.v});return e})(),n=I(t.r),a=I(t.s);l=[...l,B(e),"0x00"===n?"0x":n,"0x00"===a?"0x":a]}else s>0&&(l=[...l,B(s),"0x","0x"]);return ue(l)}(e,t)}function Vt(e,t){const s=t??e,{v:n,yParity:a}=s;if(void 0===s.r)return[];if(void 0===s.s)return[];if(void 0===n&&void 0===a)return[];const r=I(s.r),i=I(s.s);return["number"==typeof a?a?B(1):"0x":0n===n?"0x":1n===n?B(1):27n===n?"0x":B(1),"0x00"===r?"0x":r,"0x00"===i?"0x":i]}class Jt extends b{constructor(){super('Transaction is not an EIP712 transaction.\n\nTransaction must:\n  - include `type: "eip712"`\n  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`',{name:"InvalidEip712TransactionError"})}}function Xt(e){return"eip712"===e.type||!!("customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&"bigint"==typeof e.gasPerPubdata||"factoryDeps"in e&&e.factoryDeps)}function Zt(e){const{chainId:t,to:s,from:n,paymaster:a,paymasterInput:r}=e;if(!Xt(e))throw new Jt;if(!t||0>=t)throw new ct({chainId:t});if(s&&!_t(s))throw new ot({address:s});if(n&&!_t(n))throw new ot({address:n});if(a&&!_t(a))throw new ot({address:a});if(a&&!r)throw new b("`paymasterInput` must be provided when `paymaster` is defined");if(!a&&r)throw new b("`paymaster` must be provided when `paymasterInput` is defined")}const Yt={transaction:function(e,t){return Xt(e)?function(e){const{chainId:t,gas:s,nonce:n,to:a,from:r,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,customSignature:l,factoryDeps:d,paymaster:u,paymasterInput:h,gasPerPubdata:p,data:m}=e;Zt(e);return re(["0x71",ue([n?B(n):"0x",c?B(c):"0x",o?B(o):"0x",s?B(s):"0x",a??"0x",i?B(i):"0x",m??"0x",B(t),B(""),B(""),B(t),r??"0x",B(p||se),d??[],l??"0x",u&&h?[u,h]:[]])])}(e):Wt(e,t)}};class Qt extends b{constructor({givenLength:e,maxBytecodeSize:t}){super(`Bytecode cannot be longer than ${t} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class es extends b{constructor({givenLengthInWords:e}){super("Bytecode length in 32-byte words must be odd. Given length in words: "+e,{name:"BytecodeLengthInWordsMustBeOddError"})}}class ts extends b{constructor({givenLength:e}){super("The bytecode length in bytes must be divisible by 32. Given length: "+e,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}const ss={formatters:ae,serializers:Yt,custom:{getEip712Domain:e=>{Zt(e);const t=function(e){const{gas:t,nonce:s,to:n,from:a,value:r,maxFeePerGas:i,maxPriorityFeePerGas:o,factoryDeps:c,paymaster:l,paymasterInput:d,gasPerPubdata:u,data:h}=e;return{txType:113n,from:BigInt(a),to:n?BigInt(n):0n,gasLimit:t??0n,gasPerPubdataByteLimit:u??se,maxFeePerGas:i??0n,maxPriorityFeePerGas:o??0n,paymaster:l?BigInt(l):0n,nonce:s?BigInt(s):0n,value:r??0n,data:h??"0x",factoryDeps:c?.map((e=>B(function(e){const t=G(e);if(t.length%32!=0)throw new ts({givenLength:t.length});if(t.length>ne)throw new Qt({givenLength:t.length,maxBytecodeSize:ne});const s=G(Ze(t)),n=t.length/32;if(n%2==0)throw new es({givenLengthInWords:n});const a=A(G(n),{size:2}),r=new Uint8Array([1,0]);return s.set(r,0),s.set(a,2),s}(e))))??[],paymasterInput:d||"0x"}}(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}}}},ns={block:W({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=q(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?N(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}));return{transactions:t,stateRoot:e.stateRoot}}}),transaction:j({format(e){const t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?N(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:Z({format:e=>({l1GasPrice:e.l1GasPrice?N(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?N(e.l1GasUsed):null,l1Fee:e.l1Fee?N(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})};const as={contracts:{gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters:ns,serializers:{transaction:function(e,t){return function(e){return"deposit"===e.type||void 0!==e.sourceHash}(e)?function(e){!function(e){const{from:t,to:s}=e;if(t&&!_t(t))throw new ot({address:t});if(s&&!_t(s))throw new ot({address:s})}(e);const{sourceHash:t,data:s,from:n,gas:a,isSystemTx:r,mint:i,to:o,value:c}=e;return re(["0x7e",ue([t,n,o??"0x",i?B(i):"0x",c?B(c):"0x",a?B(a):"0x",r?"0x1":"0x",s??"0x"])])}(e):Wt(e,t)}}},rs=m({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),is=m({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),os=m({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),cs=1,ls=m({...as,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...as.contracts,disputeGameFactory:{[cs]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[cs]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[cs]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[cs]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:1}),ds=11155111,us=m({...as,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...as.contracts,disputeGameFactory:{[ds]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[ds]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[ds]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[ds]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:ds}),hs=m({id:80084,name:"Berachain bArtio",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:109269},ensRegistry:{address:"0xB0eef18971290b333450586D33dcA6cE122651D2",blockCreated:7736794},ensUniversalResolver:{address:"0x41692Ef1EA0C79E6b73077E4A67572D2BDbD7057",blockCreated:7736795}},ensTlds:[".bera"],rpcUrls:{default:{http:["https://bartio.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berachain bArtio Beratrail",url:"https://bartio.beratrail.io"}},testnet:!0}),ps=m({id:11501,name:"BEVM Mainnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet-1.bevm.io"]}},blockExplorers:{default:{name:"Bevmscan",url:"https://scan-mainnet.bevm.io",apiUrl:"https://scan-mainnet-api.bevm.io/api"}}}),ms=m({...as,id:81457,name:"Blast",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.blast.io"]}},blockExplorers:{default:{name:"Blastscan",url:"https://blastscan.io",apiUrl:"https://api.blastscan.io/api"}},contracts:{...as.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:212929}},sourceId:1}),gs=1,ys=m({...as,id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Explorer",url:"https://explorer.gobob.xyz"}},contracts:{...as.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:23131},l2OutputOracle:{[gs]:{address:"0xdDa53E23f8a32640b04D7256e651C1db98dB11C1",blockCreated:4462615}},portal:{[gs]:{address:"0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E",blockCreated:4462615}}},sourceId:1}),fs=m({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),bs=m({id:97,name:"Binance Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0}),ws=m({id:88888,name:"Chiliz Chain",network:"chiliz-chain",nativeCurrency:{decimals:18,name:"CHZ",symbol:"CHZ"},rpcUrls:{default:{http:["https://rpc.chiliz.com"]}},blockExplorers:{default:{name:"Chiliz Explorer",url:"https://scan.chiliz.com",apiUrl:"https://scan.chiliz.com/api"}}}),xs=m({id:25,name:"Cronos Mainnet",nativeCurrency:{decimals:18,name:"Cronos",symbol:"CRO"},rpcUrls:{default:{http:["https://evm.cronos.org"]}},blockExplorers:{default:{name:"Cronos Explorer",url:"https://explorer.cronos.org",apiUrl:"https://explorer-api.cronos.org/mainnet/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1963112}}}),vs=m({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://250.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),Ps=m({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"xDAI",symbol:"XDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}});function ks(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}class Is extends b{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}function Es(e){return e.reduce(((e,{slot:t,value:s})=>`${e}        ${t}: ${s}\n`),"")}class Ts extends b{constructor(e,{account:t,docsPath:s,chain:n,data:a,gas:r,gasPrice:i,maxFeePerGas:o,maxPriorityFeePerGas:c,nonce:l,to:d,value:u,stateOverride:h}){const p=t?ks(t):void 0;let m=we({from:p?.address,to:d,value:void 0!==u&&`${fe(u)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:r,gasPrice:void 0!==i&&be(i)+" gwei",maxFeePerGas:void 0!==o&&be(o)+" gwei",maxPriorityFeePerGas:void 0!==c&&be(c)+" gwei",nonce:l});h&&(m+="\n"+function(e){return e.reduce(((e,{address:t,...s})=>{let n=`${e}    ${t}:\n`;return s.nonce&&(n+=`      nonce: ${s.nonce}\n`),s.balance&&(n+=`      balance: ${s.balance}\n`),s.code&&(n+=`      code: ${s.code}\n`),s.state&&(n+="      state:\n",n+=Es(s.state)),s.stateDiff&&(n+="      stateDiff:\n",n+=Es(s.stateDiff)),n}),"  State Override:\n").slice(0,-1)}(h)),super(e.shortMessage,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function As(e,{docsPath:t,...s}){const n=(()=>{const t=function(e,t){const s=(e.details||"").toLowerCase(),n=e instanceof b?e.walk((e=>e?.code===lt.code)):e;return n instanceof b?new lt({cause:e,message:n.details}):lt.nodeMessage.test(s)?new lt({cause:e,message:e.details}):dt.nodeMessage.test(s)?new dt({cause:e,maxFeePerGas:t?.maxFeePerGas}):ut.nodeMessage.test(s)?new ut({cause:e,maxFeePerGas:t?.maxFeePerGas}):ht.nodeMessage.test(s)?new ht({cause:e,nonce:t?.nonce}):pt.nodeMessage.test(s)?new pt({cause:e,nonce:t?.nonce}):mt.nodeMessage.test(s)?new mt({cause:e,nonce:t?.nonce}):gt.nodeMessage.test(s)?new gt({cause:e}):yt.nodeMessage.test(s)?new yt({cause:e,gas:t?.gas}):ft.nodeMessage.test(s)?new ft({cause:e,gas:t?.gas}):bt.nodeMessage.test(s)?new bt({cause:e}):wt.nodeMessage.test(s)?new wt({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new xt({cause:e})}(e,s);return t instanceof xt?e:t})();return new Ts(n,{docsPath:t,...s})}function Cs(e,{format:t}){if(!t)return{};const s={};return function t(n){const a=Object.keys(n);for(const r of a)r in e&&(s[r]=e[r]),n[r]&&"object"==typeof n[r]&&!Array.isArray(n[r])&&t(n[r])}(t(e||{})),s}async function Bs(e,t){const{account:s=e.account}=t;if(!s)throw new Is;const n=ks(s);try{const{accessList:s,blockNumber:a,blockTag:r,data:i,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:u,to:h,value:p,...m}=t,g=("bigint"==typeof a?U(a):void 0)||r;!function(e){const{account:t,gasPrice:s,maxFeePerGas:n,maxPriorityFeePerGas:a,to:r}=e,i=t?ks(t):void 0;if(i&&!_t(i.address))throw new ot({address:i.address});if(r&&!_t(r))throw new ot({address:r});if(void 0!==s&&(void 0!==n||void 0!==a))throw new xe;if(n&&n>te)throw new dt({maxFeePerGas:n});if(a&&n&&a>n)throw new wt({maxFeePerGas:n,maxPriorityFeePerGas:a})}(t);const y=e.chain?.formatters?.transactionRequest?.format,f=(y||Q)({...Cs(m,{format:y}),from:n?.address,accessList:s,data:i,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:u,to:h,value:p}),{baseFeePerGas:b,gasLimit:w,priorityFeePerGas:x}=await e.request({method:"linea_estimateGas",params:g?[f,g]:[f]});return{baseFeePerGas:BigInt(b),gasLimit:BigInt(w),priorityFeePerGas:BigInt(x)}}catch(s){throw As(s,{...t,account:n,chain:e.chain})}}async function Ls({client:e,multiply:t,request:s,type:n}){try{const a=await Bs(e,{...s,account:s?.account}),{priorityFeePerGas:r}=a,i=t(BigInt(a.baseFeePerGas))+r;return"legacy"===n?{gasPrice:i}:{maxFeePerGas:i,maxPriorityFeePerGas:r}}catch{return null}}const Us=m({...{fees:{estimateFeesPerGas:Ls,async maxPriorityFeePerGas({block:e,client:t,request:s}){const n=await Ls({block:e,client:t,multiply:e=>e,request:s,type:"eip1559"});return n?.maxPriorityFeePerGas?n.maxPriorityFeePerGas:null}}},id:59144,name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build",apiUrl:"https://api.lineascan.build/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:42},ensRegistry:{address:"0x50130b669B28C339991d8676FA73CF122a121267",blockCreated:6682888},ensUniversalResolver:{address:"0x3aA974fb3f8C1E02796048BDCdeD79e9D53a6965",blockCreated:6683e3}},ensTlds:[".linea.eth"],testnet:!1}),Fs=m({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Ss=m({id:169,name:"Manta Pacific Mainnet",network:"manta",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://pacific-rpc.manta.network/http"]}},blockExplorers:{default:{name:"Manta Explorer",url:"https://pacific-explorer.manta.network",apiUrl:"https://pacific-explorer.manta.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:332890}}}),Gs=m({id:3441005,name:"Manta Pacific Testnet",network:"manta-testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://manta-testnet.calderachain.xyz/http"]}},blockExplorers:{default:{name:"Manta Testnet Explorer",url:"https://pacific-explorer.testnet.manta.network",apiUrl:"https://pacific-explorer.testnet.manta.network/api"}},contracts:{multicall3:{address:"0x211B1643b95Fe76f11eD8880EE810ABD9A4cf56C",blockCreated:419915}},testnet:!0}),zs=m({id:5e3,name:"Mantle",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Explorer",url:"https://mantlescan.xyz/",apiUrl:"https://api.mantlescan.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:304717}}}),$s=m({id:4200,name:"Merlin",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.merlinchain.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://scan.merlinchain.io",apiUrl:"https://scan.merlinchain.io/api"}}}),Ms=1,Rs=m({...as,id:34443,name:"Mode Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.mode.network"]}},blockExplorers:{default:{name:"Modescan",url:"https://modescan.io"}},contracts:{...as.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2465882},l2OutputOracle:{[Ms]:{address:"0x4317ba146D4933D889518a3e5E11Fe7a53199b04"}},portal:{[Ms]:{address:"0x8B34b14c7c7123459Cf3076b8Cb929BE097d0C07"}},l1StandardBridge:{[Ms]:{address:"0x735aDBbE72226BD52e818E7181953f42E3b0FF21"}}},sourceId:1}),Ds=56,Ns=m({id:204,name:"opBNB",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://opbnb-mainnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opBNB (BSCScan)",url:"https://opbnb.bscscan.com",apiUrl:"https://api-opbnb.bscscan.com/api"}},contracts:{...as.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:512881},l2OutputOracle:{[Ds]:{address:"0x153CAB79f4767E2ff862C94aa49573294B13D169"}},portal:{[Ds]:{address:"0x1876EA7702C0ad0C6A2ae6036DE7733edfBca519"}},l1StandardBridge:{[Ds]:{address:"0xF05F0e4362859c3331Cb9395CBC201E3Fa6757Ea"}}},sourceId:56}),Os=1,_s=m({...as,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...as.contracts,disputeGameFactory:{[Os]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Os]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Os]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Os]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:1}),Hs=m({id:11297108109,name:"Palm",nativeCurrency:{decimals:18,name:"PALM",symbol:"PALM"},rpcUrls:{default:{http:["https://palm-mainnet.public.blastapi.io"],webSocket:["wss://palm-mainnet.public.blastapi.io"]}},blockExplorers:{default:{name:"Chainlens",url:"https://palm.chainlens.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15429248}}}),qs=m({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),js=m({id:1101,name:"Polygon zkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://zkevm-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://zkevm.polygonscan.com",apiUrl:"https://api-zkevm.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:57746}}}),Ks=m({id:3109,name:"SatoshiVM Alpha Mainnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://alpha-rpc-node-http.svmscan.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://svmscan.io",apiUrl:"https://svmscan.io/api"}}}),Ws=m({id:534352,name:"Scroll",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://scrollscan.com",apiUrl:"https://api.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14}},testnet:!1}),Vs=m({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),Js=m({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),Xs=m({id:1315,name:"Story Aeneid",network:"story-aeneid",nativeCurrency:{decimals:18,name:"IP",symbol:"IP"},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1792},ensRegistry:{address:"0x5dC881dDA4e4a8d312be3544AD13118D1a04Cb17",blockCreated:1322033},ensUniversalResolver:{address:"0x6D3B3F99177FB2A5de7F9E928a9BD807bF7b5BAD",blockCreated:1322097}},rpcUrls:{default:{http:["https://aeneid.storyrpc.io"]}},blockExplorers:{default:{name:"Story Aeneid Explorer",url:"https://aeneid.storyscan.xyz",apiUrl:"https://aeneid.storyscan.xyz/api/v2"}},ensTlds:[".ip"],testnet:!0}),Zs=m({id:167e3,name:"Taiko Mainnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.mainnet.taiko.xyz"],webSocket:["wss://ws.mainnet.taiko.xyz"]}},blockExplorers:{default:{name:"Taikoscan",url:"https://taikoscan.io",apiUrl:"https://api.taikoscan.io/api"}},contracts:{multicall3:{address:"0xcb2436774C3e191c85056d248EF4260ce5f27A9D"}}}),Ys=m({id:196,name:"X Layer Mainnet",nativeCurrency:{decimals:18,name:"OKB",symbol:"OKB"},rpcUrls:{default:{http:["https://rpc.xlayer.tech"]}},blockExplorers:{default:{name:"OKLink",url:"https://www.oklink.com/xlayer",apiUrl:"https://www.oklink.com/api/v5/explorer/xlayer/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:47416}}}),Qs=m({id:7e3,name:"ZetaChain",nativeCurrency:{decimals:18,name:"Zeta",symbol:"ZETA"},rpcUrls:{default:{http:["https://zetachain-evm.blockpi.network/v1/rpc/public"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1632781}},blockExplorers:{default:{name:"ZetaScan",url:"https://explorer.zetachain.com"}},testnet:!1}),en=m({id:810180,name:"zkLink Nova",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zklink.io"]}},blockExplorers:{default:{name:"zkLink Nova Block Explorer",url:"https://explorer.zklink.io"}}}),tn=m({...ss,id:324,name:"ZKsync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"ZKsync Explorer",url:"https://explorer.zksync.io/",apiUrl:"https://block-explorer-api.mainnet.zksync.io/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:45659388}}}),sn=1,nn=m({...as,id:7777777,name:"Zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy",apiUrl:"https://explorer.zora.energy/api"}},contracts:{...as.contracts,l2OutputOracle:{[sn]:{address:"0x9E6204F750cD866b299594e2aC9eA824E2e5f95c"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:5882},portal:{[sn]:{address:"0x1a0ad011913A150f69f6A19DF447A0CfD9551054"}},l1StandardBridge:{[sn]:{address:"0x3e2Ea9B92B7E48A52296fD261dc26fd995284631"}}},sourceId:1}),an="https://social-relay.tomo.inc",rn=an+"/x",on=an+"/x/loader",cn="06226ae2a1e8d0727c60dd2e6c874a63",ln=an+"/kakao",dn=an+"/google",un={googleAuth:"tomo-google-authorized",xAuth:"tomo-twitter-authorized",signReq:"tomo-response",normalReq:"normal-response",mfaCreate:"tomo-mfa-authorized",kakaoAuth:"tomo-kakao-authorized",telegramAuth:"tomo-telegram-authorized"},hn="googleAuth",pn="xAuth",mn="signReq",gn="normalReq",yn="mfaReq",fn="kakaoAuth",bn="telegramAuth",wn="signMessage",xn="signTypedMessage",vn="sendTx",Pn="signTx",kn="signTxs";let In=[];const En=n.getLogger("TomoSDK"),Tn="local-email-login-req",An="tomo-cache",Cn=()=>{try{const e=localStorage.getItem(An);return JSON.parse(e??"")}catch(e){return null}},Bn=(e,t,s)=>{let n=Cn();n?n[e]?n[e][t]=s:n[e]={[t]:s}:n={[e]:{[t]:s}},(e=>{try{localStorage.setItem(An,JSON.stringify(e))}catch(e){En.error("save cache failed")}})(n)},Ln={},Un=e=>{try{return Ln[e]||null}catch(e){return null}},Fn=(e,t)=>{Ln[e]=t},Sn=e=>{try{const t=Cn();return t?.[e]?.userId}catch(e){return null}},Gn=(e,t)=>{Bn(e,"userId",t)},zn=e=>{try{const t=Cn();return t?.[e]?.loginType}catch(e){return null}},$n=(e,t)=>{Bn(e,"loginType",t)},Mn=(e,t)=>{Bn(e,"localPasskey",t)},Rn=()=>{try{const e=localStorage.getItem(Tn);return JSON.parse(e??"")}catch(e){return null}},Dn=e=>{try{localStorage.setItem(Tn,e)}catch(e){return null}},Nn=()=>{try{localStorage.removeItem(Tn)}catch(e){}};let On=null;const _n=async e=>On?(En.debug("cache data:",On),On):(On=await ca(e),On),Hn=()=>{On=null},qn=e=>{const t=(new TextEncoder).encode(e),s=Array.from(t,(e=>String.fromCodePoint(e))).join("");return btoa(s)},jn=(e,s)=>{const{reqType:n,chainType:a,address:r,addressType:i,network:o,message:c,signMessageType:l}=s;return{eventId:t.v4(),chainType:a,origin:window.location.origin,accessToken:Un(e),reqType:n,signInfo:{message:c,address:r,addressType:i,network:o,signMessageType:l}}},Kn=(e,s)=>{const{reqType:n,address:a,network:r,addressType:i}=s;return{eventId:t.v4(),chainType:"bitcoin",origin:window.location.origin,accessToken:Un(e),reqType:n,txMeta:{txParams:s.params,address:a,addressType:i,network:r}}},Wn=(e,s)=>{const{reqType:n,address:a}=s;return{eventId:t.v4(),chainType:"solana",origin:window.location.origin,accessToken:Un(e),address:a,reqType:n,txMeta:s.params}};const Vn=[],Jn=({url:e,name:t,width:s,height:n})=>{const a=(window.innerHeight-(n||400))/2+window.screenY,r=(window.innerWidth-(s||400))/2+window.screenX;if(Vn.length){const t=Vn[Vn.length-1];return t.location.href=e,t}try{const i=window.open(e,t,`dialog=yes,top=${a}px,left=${r},width=${void 0!==s?s:400}px,height=${void 0!==n?n:600}px`);return i?(Vn.push(i),i):Zn({url:e,width:s})}catch(t){return Zn({url:e,width:s})}},Xn={closed:!1},Zn=({url:e,width:t=400})=>{const s="tomo-social-iframe-modal",n=document.getElementById(s);n&&n.remove();const a=document.querySelector('meta[name="viewport"]'),r=a?.getAttribute("content"),i={overflow:document.body.style.overflow,position:document.body.style.position,width:document.body.style.width,height:document.body.style.height},o=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator?.userAgent||""),c=document.createElement("div");c.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    background: transparent;\n    z-index: 999999;\n    -webkit-overflow-scrolling: touch;\n    overflow: hidden;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  ";const l=document.createElement("div");l.style.cssText=`\n    ${o?"\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n  ":`\n    width: ${t||400}px;\n    height: ${o?"100%":"600px"};\n    border-radius: 16px;\n  `}\n    background: white;\n    overflow: hidden;\n    z-index: 1000000;\n    display: flex;\n    flex-direction: column;\n    margin: 0;\n    padding: 0;\n    border: none;\n    box-shadow: ${o?"none":"0 4px 24px rgba(0, 0, 0, 0.1)"};\n    opacity: 0;\n    transition: opacity 0.3s;\n  `;const d=document.createElement("iframe");if(d.id=s,d.setAttribute("loading","eager"),d.setAttribute("importance","high"),d.setAttribute("sandbox","allow-scripts allow-forms allow-same-origin allow-popups allow-modals allow-storage-access-by-user-activation"),d.setAttribute("referrerpolicy","strict-origin"),d.allow="publickey-credentials-create; clipboard-write",d.src=e,d.style.cssText="\n    width: 100%;\n    height: 100%;\n    border: none;\n    margin: 0;\n    padding: 0;\n    flex: 1;\n    display: block;\n    background: white;\n    -webkit-overflow-scrolling: touch;\n  ",d.onload=()=>{l.style.opacity="1"},o){const e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover",document.head.appendChild(e),document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.height="100%"}l.appendChild(d),c.appendChild(l),document.body.appendChild(c);const u=()=>{if(c.remove(),o){const e=document.querySelector('meta[name="viewport"]');e&&(a&&r?a.setAttribute("content",r):e.remove()),document.body.style.overflow=i.overflow,document.body.style.position=i.position,document.body.style.width=i.width,document.body.style.height=i.height}},h=e=>{Object.values(un).includes(e.data.type)&&(u(),window.removeEventListener("message",h))};return window.addEventListener("message",h),c.addEventListener("click",(e=>{e.target===c&&(Xn.closed=!0,u(),window.removeEventListener("message",h))})),Xn.closed=!1,Xn};async function Yn(e,t,s,n){const a=await e,r=setInterval((()=>{if(a&&a.closed){const e=Vn.findIndex((e=>e==a));-1!==e&&Vn.splice(e,1),En.debug("Popup window closed"),In.find((e=>e===n))||(t.emit(`${s}#${n}`,!1),En.debug("events:",t.eventNames(),`${s}#${n}`)),clearInterval(r)}else En.debug("Popup window is still open")}),1e3);return r}const Qn=async(e,t)=>{if(!e)throw Error("Invalid request");if(!t)throw Error("Invalid sdk status");const s=qn(a.stringify({...e,userId:Sn(t.clientId),loginType:zn(t.clientId)}));return await da({eventId:e.eventId,value:s}),new Promise(((s,n)=>{Yn(Jn({url:`${t.relayBase}/request?eventId=${e.eventId}`,name:"Sign Request"}),t.events,mn,e.eventId),t.events.once(`${mn}#${e.eventId}`,(e=>{En.debug("result:",e),e.error?n(e.error):s(e.result||e.response||e)}))}))};function ea(e){if("READY"!==e.data.status)e.data.isSuccess&&e.data.result?this.onSuccess(e.data):e.data.isError?this.onError(e.data):e.data.isReject?this.onReject(e.data):e.data.setAuth&&Fn(this.clientId,e.data.jwt);else{const e={type:this.reqType,auth:{jwt:Un(this.clientId),userId:Sn(this.clientId),clientId:this.clientId},...this.params||{},reqString:this.reqString};this.postMessage?.(e,"*")}}const ta=async(e,t)=>{const s=zn(t.clientId);e.loginType=s;const n=qn(a.stringify(e)),r=Jn({url:t.relayBase+"/normal",name:"normal Request"});return new Promise(((s,a)=>{const i=ea.bind({clientId:t.clientId,core:t,reqString:n,postMessage:(e,...t)=>r.postMessage?.(e,...t),onSuccess:e=>{s(e.result)},onError:e=>{a(e.error)},onReject:e=>{a(e.result)}});window.addEventListener("message",i);Yn(r,t.events,gn,e.eventId),t.events.once(`${gn}#${e.eventId}`,(e=>{e.result?s(e.result):a(e.error),window.removeEventListener("message",i)}))}))},sa=async(e,s,n)=>{const a=s.walletDomain,r=t.v4(),i=Jn({url:""+a,name:"wallet Request",height:740,width:400});return new Promise(((t,a)=>{const o=ea.bind({clientId:s.clientId,core:s,reqType:e,params:n,postMessage:(e,...t)=>i.postMessage?.(e,...t),onSuccess:e=>{t(e.result)},onError:e=>{a(e.error)},onReject:e=>{a(e.result)}});window.addEventListener("message",o);Yn(i,s.events,gn,r),s.events.once(`${gn}#${r}`,(e=>{e.result?t(e.result):a(e.error),window.removeEventListener("message",o)}))}))},na="https://apps-prod.tomo.inc/api/";let aa,ra=na;const ia=e=>{const{connectUrl:t}=e;ra=t,aa=s.create({baseURL:t}),aa.interceptors.request.use((async t=>{const s=await async function(e){const t=Un(e.clientId);if(t)return t;const s=document.createElement("iframe");s.style.display="none",s.src=e.relayBase+"/normal",document.body.appendChild(s);try{return await new Promise((t=>{const n=a=>{if("READY"===a.data.status){const t={auth:{clientId:e.clientId}};s.contentWindow?.postMessage(t,"*")}else a.data.setAuth&&a.data.jwt?(window.removeEventListener("message",n),t(a.data.jwt),Fn(e.clientId,a.data.jwt)):a.data.isFail&&(window.removeEventListener("message",n),t(""))};window.addEventListener("message",n)}))}catch(e){}finally{document.body.removeChild(s)}}(e);return s&&(t.headers=t.headers||{},t.headers.Authorization="Bearer "+s),t.headers["Tomo-Sdk-Version"]="1.1.22",t}),(e=>{if(401===e?.response?.status)return Promise.reject(e)}))};const oa=async e=>{const{data:t}=await aa.post("socialLogin/projectUser/bound",{...e});return t},ca=async e=>{try{const{data:t}=await aa.get("socialLogin/projectUser/info?clientId="+e);return t}catch(e){}},la=async e=>{const{data:t}=await aa.get("socialLogin/projectUser/customization",{params:{clientId:e}});return t},da=async e=>{const{data:t}=await aa.post("socialLogin/projectUser/setTemporaryData",e).catch((e=>{const t=e?.response?.data?.message;return Promise.reject(t||"Failed to sign message")}));return t},ua={mainnet:{ticker:"BTC",apiBlockstream:"https://btc-rpc.lorenzo-protocol.xyz"},testnet:{ticker:"BTC",apiBlockstream:"https://btc-rpc-testnet.lorenzo-protocol.xyz/testnet"},signet:{ticker:"sBTC",apiBlockstream:"https://btc-rpc-signet.lorenzo-protocol.xyz/signet"}};var ha;!function(e){e[e.P2PKH=0]="P2PKH",e[e.P2WPKH=1]="P2WPKH",e[e.P2TR=2]="P2TR",e[e.P2SH_P2WPKH=3]="P2SH_P2WPKH",e[e.M44_P2WPKH=4]="M44_P2WPKH",e[e.M44_P2TR=5]="M44_P2TR"}(ha||(ha={}));const pa={P2PKH:"P2PKH",P2WPKH:"P2WPKH",P2TR:"P2TR",P2SH:"P2SH"},ma="mainnet",ga=[{value:ha.P2PKH,label:"P2PKH",name:"Legacy (P2PKH)",displayName:"Legacy",hdPath:"m/44'/0'/0'/0"},{value:ha.P2WPKH,label:"P2WPKH",name:"Native Segwit (P2WPKH)",displayName:"Native Segwit",hdPath:"m/84'/0'/0'/0"},{value:ha.P2TR,label:"P2TR",name:"Taproot (P2TR)",displayName:"Taproot",hdPath:"m/86'/0'/0'/0"},{value:ha.P2SH_P2WPKH,label:"P2SH",name:"Nested Segwit (P2SH-P2WPKH)",displayName:"Nested Segwit",hdPath:"m/49'/0'/0'/0"}];class ya{network=ma;event=new e;addressType=pa.P2TR;address="";pubKey="";core;setCore(e){this.core=e}async getAccounts(){return[await this.getAddress()]}async getAddress(){const e=await _n(this.core.clientId);if(!e.result)throw Error("Get address failed.");return this.network===ma?(this.address=e.result.btcMainnetAddressInfo[this.addressType.toLowerCase()],this.address):(this.address=e.result.btcTestnetAddressInfo[this.addressType.toLowerCase()],this.address)}async getPublicKey(){return this.getPublicKeyHex()}async getPublicKeyHex(){const e=await _n(this.core.clientId);if(!e.result)throw Error("Get public key failed.");const t=this.addressType.toLowerCase()+"PubKey";return this.network===ma?e.result.btcMainnetAddressInfo[t]:e.result.btcTestnetAddressInfo[t]}async getAllAddresses(){const e=await _n(this.core.clientId);if(!e.result)throw Error("Get address failed.");let t;t=this.network===ma?e.result.btcMainnetAddressInfo:e.result.btcTestnetAddressInfo;return Object.entries(t).map((([e,t])=>{const s=ga.find((t=>t.label===e.toUpperCase()));return s?{...s,address:t}:null})).filter((e=>null!==e))}async sendBitcoin(e,t,s){const n=Kn(this.core.clientId,{reqType:vn,network:this.network,address:this.address,addressType:this.addressType,params:{to:e,amount:t,feeRate:s,fromAddress:await this.getAddress(),pubKey:await this.getPublicKeyHex()}});return await Qn(n,this.core)}async signPsbt(e){const t=Kn(this.core.clientId,{reqType:Pn,network:this.network,address:this.address,addressType:this.addressType,params:{psbtHex:e}});return await Qn(t,this.core)}async signPsbts(e){const t=Kn(this.core.clientId,{reqType:kn,network:this.network,address:this.address,addressType:this.addressType,params:{psbtHexs:e}}),s=await Qn(t,this.core);return s?s.split(","):""}async signMessageBIP322(e){const t=jn(this.core.clientId,{chainType:"bitcoin",reqType:wn,address:this.address,addressType:this.addressType,network:this.network,message:e,signMessageType:"bip322-simple"});return await Qn(t,this.core)}async signMessageEcdsa(e){const t=jn(this.core.clientId,{chainType:"bitcoin",reqType:wn,address:this.address,addressType:this.addressType,network:this.network,message:e,signMessageType:"ecdsa"});return await Qn(t,this.core)}async signMessage(e,t="ecdsa"){return"ecdsa"===t?this.signMessageEcdsa(e):this.signMessageBIP322(e)}getNetwork(){return this.network}getAddressType(){return this.addressType}async switchNetwork(e){if("mainnet"!==e&&"testnet"!==e&&"signet"!==e)throw Error("Invalid network, only support mainnet, testnet, signet");this.network=e,await this.getAddress(),this.event.emit("networkChanged",e)}async changeAddressType(e){if(!pa[e])throw Error("Invalid address type, only support P2PKH, P2WPKH, P2TR, P2SH");this.addressType=pa[e],await this.getAddress(),this.event.emit("addressTypeChanged",e)}on(e,t){this.event.on(e,t)}off(e,t){this.event.off(e,t)}async getBalance(e){try{const t=e||await this.getAddress(),n=await(async(e,t)=>(await s.get(`${e}/api/address/${t}`,{maxRedirects:1})).data)(ua[this.network].apiBlockstream,t),a=n?.chain_stats,r=n?.mempool_stats;return a.funded_txo_sum-a.spent_txo_sum+(r.funded_txo_sum-r.spent_txo_sum)}catch(e){return 0}}async getFeeRate(){try{return(await(async e=>{const{data:t}=await aa.get("socialLogin/projectWallet/bitcoin/getFeeRate?networkType="+e);return t})(this.network.toUpperCase())).result}catch(e){throw En.debug("Get fee rate failed:",e),Error("Get fee rate failed.")}}async pushTx(e){try{const t=await(async(e,t)=>{const{data:s}=await aa.post("socialLogin/projectWallet/bitcoin/pushTx",{rawTransaction:e,networkType:t});return s})(e,this.network.toUpperCase());return t.result}catch(e){throw En.debug("Get fee rate failed:",e),Error("Get fee rate failed.")}}async getInscriptionData(e,t=this.network){try{const s=await(async(e,t)=>{const{data:s}=await aa.get(`socialLogin/projectWallet/bitcoin/getInscriptionData?address=${e}&networkType=${t}`);return s})(e,t.toUpperCase());return s.result}catch(e){throw En.debug("GetInscriptionData failed:",e),Error("GetInscriptionData failed.")}}async getInscriptionInfo(e,t=this.network){try{const s=await(async(e,t)=>{const{data:s}=await aa.get(`socialLogin/projectWallet/bitcoin/getInscriptionInfo?insId=${e}&networkType=${t}`);return s})(e,t.toUpperCase());return s.result}catch(e){throw En.debug("GetInscriptionInfo failed:",e),Error("GetInscriptionInfo failed.")}}}const fa=[rs,os,ls,us,hs,ps,ms,ys,fs,bs,xs,vs,Ps,Us,Fs,Ss,zs,$s,Rs,Ns,_s,qs,js,Ks,Ws,Vs,Zs,Ys,Qs,en,tn,nn,Js,Gs,ws,Hs,is,{id:80094,name:"Berachain Mainnet",nativeCurrency:{name:"BERA Token",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://rpc.berachain.com"]}},blockExplorers:{default:{name:"Berachain Scan",url:"https://berascan.com"}},logo:"/images/chain/Berachain bArtio.png",chainName:"Berachain Mainnet",nativeCurrencyName:"BERA Token",nativeCurrencySymbol:"BERA",nativeCurrencyDecimals:18,blockExplorerUrl:"https://berascan.com",platformType:"EVM",icon:"https://static.tomo.inc/token/berachain.svg",supportSwap:!1,supportGift:!1,supportHistory:!1},Xs];fa.reduce(((e,t)=>(e[t.id]=t,e)),{});const ba={eth_requestAccounts:"eth_requestAccounts",eth_accounts:"eth_accounts",wallet_watchAsset:"wallet_watchAsset",eth_addEthereumChain:"eth_addEthereumChain",eth_switchEthereumChain:"eth_switchEthereumChain",wallet_switchEthereumChain:"wallet_switchEthereumChain",personal_sign:"personal_sign",eth_signTypedData_v4:"eth_signTypedData_v4",wallet_getPermissions:"wallet_getPermissions",wallet_requestPermissions:"wallet_requestPermissions",eth_sendTransaction:"eth_sendTransaction",eth_sendRawTransaction:"eth_sendRawTransaction",personal_ecRecover:"personal_ecRecover",eth_swapTransaction:"eth_swapTransaction",eth_approveTransaction:"eth_approveTransaction",eth_chainId:"eth_chainId"},wa="TOMO_WALLET_EVM_CHAIN_ID";class xa extends e{jsonRpcProvider;chainConfig;core;chainList;chainListFromCDN;instanceId;initialPromise;connectUrl;constructor(e){super(),this.connectUrl=e?.connectUrl||"",this.instanceId=(""+Date.now()).slice(0,-2),this.chainList=fa,this.chainListFromCDN=[];this.initialPromise=this.initial(this.chainIdDecimal)}async initial(e){const t=await this.getChainConfig(e).catch((e=>{throw e}));this.chainConfig=t,this.jsonRpcProvider=new i.JsonRpcProvider(new r(t.rpcUrl)),this.connect()}async getChainConfig(e){const t=this.getChain(e),s={chainId:e,rpcUrl:""};if(t)s.rpcUrl=t.rpcUrls.default.http[0];else{let t=this.chainListFromCDN;0!==t.length&&t.find((t=>t.id===e))||(t=await this.getChainListFromCDN());const n=t.find((t=>t.id===e));if(!n)throw Error("Unsupported chain");s.rpcUrl=n.rpcUrl}return s}async getChainListFromCDN(){const e=(await(async e=>(await s.get((e||ra)+"chain/chain_info?platform=SDK")).data)(this.connectUrl).catch((()=>[]))).filter((e=>"EVM"===e.platformType)).map((e=>({...e,rpcUrl:e.rpcUrls[0],id:e.chainId})));return this.chainListFromCDN=e,e}getChain(e){return this.chainList.find((t=>t.id===e))}async connect(){await this.jsonRpcProvider.connect(),this.jsonRpcProvider.connection.on("error",(e=>En.error(e)))}async request(e,t){return En.debug(e,this.instanceId),await this.initialPromise,ba[e.method]?await this.processWalletAction(e):await this.jsonRpcProvider.request(e,t)}get chainIdDecimal(){let e=localStorage.getItem(wa)??1;return e=isNaN(Number(e))?1:Number(e),e}get chainIdHex(){return"0x"+this.chainIdDecimal.toString(16)}async processWalletAction(e){switch(e.method){case"eth_requestAccounts":return await this.requestAddresses();case"eth_accounts":return await this.getAddresses();case"personal_sign":return await this.signMessage(e.params[0],e.params[1]);case"eth_signTypedData_v4":return await this.signTypedData(e.params[0],e.params[1]);case"eth_sendTransaction":return await this.sendTransaction(e.params[0]);case"eth_sendRawTransaction":return await this.sendRawTransaction();case"wallet_switchEthereumChain":return await this.switchChain(e.params[0].chainId);case"eth_chainId":return this.chainIdHex;case"personal_ecRecover":return await this.recoverMessageAddress(e.params[0],e.params[1]);case"eth_swapTransaction":return await this.swapTransaction(e.params[0]);case"eth_approveTransaction":return await this.approveTransaction(e.params[0]);default:throw Error("Unsupported wallet action")}}sendAsync(e,t){this.request(e).then((e=>t(null,e))).catch((e=>t(e,null)))}async getChainId(){return this.chainIdDecimal}setCore(e){this.core=e}async switchChain(e){const t=Number(e);if(t===this.chainIdDecimal)return;const s=await this.getChainConfig(t).catch((()=>{throw Error("Unsupported chain")}));await this.setChainConfig(s),this.emit("networkChanged",e)}async setChainConfig(e){localStorage.setItem(wa,e.chainId+""),this.chainConfig=e,this.jsonRpcProvider=new i.JsonRpcProvider(new r(e.rpcUrl)),await this.connect()}async getAddresses(){return await this.requestAddresses()}async requestAddresses(){if(this.core){return[await this.core.getEthAddress()]}return[]}async signMessage(e,t){const s=jn(this.core.clientId,{reqType:wn,address:t,message:e,chainType:"evm"});return await Qn(s,this.core)}async signTypedData(e,t){const s=jn(this.core.clientId,{reqType:xn,address:e,message:t,chainType:"evm"});return await Qn(s,this.core)}async sendTransaction(e){await this.core.getEthAddress();const s=((e,s)=>{const{reqType:n,chainId:a,rpcUrl:r}=s;return{eventId:t.v4(),chainType:"evm",origin:window.location.origin,accessToken:Un(e),reqType:n,txMeta:{txParams:s.params,chainId:a,rpcUrl:r}}})(this.core.clientId,{reqType:vn,chainId:this.chainIdDecimal,rpcUrl:this.chainConfig.rpcUrl,params:e});return await Qn(s,this.core)}async recoverMessageAddress(e,t){return await o.recoverMessageAddress({message:e,signature:t})}async sendRawTransaction(){throw Error("Not supported yet")}}class va{publicKey=null;connected=!1;isConnected=!1;connection;endpoint="https://rpc.ankr.com/solana/c2d7e8a3db5dce62e202db3d28cca25e74da5028abbf20764e2961918ba34dfc";core=null;constructor(e){e&&(this.endpoint=e)}async getPublicKey(){const e=await _n(this.core.clientId);if(!e.result||!e.result.solAddress)throw Error("Get public key failed.");return this.publicKey=new c.PublicKey(e.result.solAddress),this.publicKey.toBase58()}async getAddress(){return await this.getPublicKey()}async getBalance(){await this.connect();const e=await this.getPublicKey();return await(this.connection?.getBalance?.(new c.PublicKey(e)))}setCore(e){this.core=e}async signTransaction(e){await this.getPublicKey();const t=await this.getTransactionHex(e),s=Wn(this.core.clientId,{reqType:vn,address:this.publicKey.toBase58(),params:{type:"sign",transaction:t}});return await Qn(s,this.core)}async sendTransaction(e,t){await this.getPublicKey();const s=await this.getTransactionHex(e,t),n=Wn(this.core.clientId,{reqType:vn,address:this.publicKey.toBase58(),params:{type:"send",transaction:s}});return await Qn(n,this.core)}async signMessage(e){await this.getPublicKey();const t=(new TextDecoder).decode(e),s=jn(this.core.clientId,{chainType:"solana",reqType:wn,address:this.publicKey.toBase58(),message:t});return await Qn(s,this.core)}async connect(){this.connection=new c.Connection(this.endpoint,"confirmed"),this.connected=!0,this.connected=!0}async disconnect(){this.connection=null,this.isConnected=!1,this.isConnected=!1}async getTransactionHex(e,t){let s;if(!e.serializeMessage)throw Error("Unsupported transaction type, only support Transaction");{const n=e;n.feePayer||(this.publicKey||(this.publicKey=new c.PublicKey(await this.getPublicKey())),n.feePayer=this.publicKey),this.isConnected||await this.connect();const a=t||this.connection;n.recentBlockhash=a.getLatestBlockhash?(await a.getLatestBlockhash())?.blockhash:(await a.getRecentBlockhash("max"))?.blockhash,s=n.serialize({requireAllSignatures:!1,verifySignatures:!1}).toString("hex")}return s}}const Pa=8192;function ka(e){if(Pa>e.length)return btoa(String.fromCharCode(...e));let t="";for(var s=0;e.length>s;s+=Pa){const n=e.slice(s,s+Pa);t+=String.fromCharCode(...n)}return btoa(t)}let Ia;const Ea=async()=>{if(Ia)return Ia;const e=await Promise.resolve().then((function(){return require("./index-Dmr33Bok.js")}));return Ia=new e.SuiClient({url:"https://fullnode.mainnet.sui.io:443"}),Ia},Ta=async({transaction:e,txRaw:t,address:s})=>{let n,a;const r=await Ea();try{n=l.Transaction.from(e),JSON.parse(e).sender||n.setSender(s),a=await n.build({client:r})}catch(e){t.setSenderIfNotSet(s),a=await t.build({client:r})}return a};class Aa{address;core=null;constructor(){}async getAddress(){try{const e=await _n(this.core.clientId);if(!e.result||!e.result.suiAddress)throw Error("Get address key failed.");return this.address=e.result.suiAddress,this.address}catch(e){throw e}}setCore(e){this.core=e}signTransaction=async e=>{try{this.address||await this.getAddress();let s=await e.transaction.toJSON();try{if(!JSON.parse(s).sender){const e=l.Transaction.from(s);e.setSender(this.address),s=await e.toJSON()}}catch(e){}const n=((e,s)=>{const{reqType:n,address:a}=s;return{eventId:t.v4(),chainType:"sui",origin:window.location.origin,accessToken:Un(e),address:a,reqType:n,txMeta:s.params}})(this.core.clientId,{reqType:Pn,address:this.address,params:{type:"sign",transaction:s}}),a=await Qn(n,this.core);if(!a||"cancel"===a.toLowerCase())throw"user cancel";const r=await(async e=>{const{data:t}=await aa.post("socialLogin/projectWallet/sui/signTransaction",e,{headers:{mfa:e.mfa}}).catch((e=>{const t=e?.response?.data?.message;return Promise.reject(t||"Failed to sign transaction")}));return t})({tx:s,url:"https://fullnode.mainnet.sui.io:443",mfa:a}),{result:i}=r;return{bytes:ka(await Ta({transaction:s,address:this.address,txRaw:e.transaction})),signature:i}}catch(e){throw e}};signAndExecuteTransaction=async e=>{try{const t=await this.signTransaction(e),s=await e.transaction.toJSON(),n={bytes:await Ta({transaction:s,address:this.address,txRaw:e.transaction}),signature:t.signature},a=await(async({bytes:e,signature:t})=>{const s=await Ea();return await s.executeTransactionBlock({transactionBlock:e,signature:t})})(n),r=JSON.stringify(a.effects),i=(new TextEncoder).encode(r);return{digest:a.digest,effects:btoa(String.fromCharCode(...i)),...t}}catch(e){throw e}};async signMessage(e){return await this.signPersonalMessage(e)}async signPersonalMessage(e){try{const t=(new TextDecoder).decode(e.message),s=jn(this.core.clientId,{chainType:"sui",reqType:wn,address:this.address,message:t}),n=await Qn(s,this.core);if(!n||"cancel"===n.toLowerCase())return"user cancel";const a=await(async e=>{const{data:t}=await aa.post("socialLogin/projectWallet/sui/signPersonalMessage",e,{headers:{mfa:e.mfa}}).catch((e=>{const t=e?.response?.data?.message;return Promise.reject(t||"Failed to sign message")}));return t})({message:t,mfa:n});return{bytes:ka(e.message),signature:a.result}}catch(e){throw e}}}class Ca{address=null;tronWeb;tronWebPromise;core=null;constructor(){}setCore(e){this.core=e}async getAddress(){try{const e=await _n(this.core.clientId);if(!e.result||!e.result.tronAddress)throw Error("Get address key failed.");return this.address=e.result.tronAddress,this.address}catch(e){throw e}}async signMessage(e,t){this.address||await this.getAddress();const s=jn(this.core.clientId,{chainType:"tron",reqType:wn,address:this.address,message:e});return await Qn(s,this.core)}async signTransaction(e){this.address||await this.getAddress();const s=((e,s)=>{const{reqType:n,address:a}=s;return{eventId:t.v4(),chainType:"tron",origin:window.location.origin,accessToken:Un(e),address:a,reqType:n,txMeta:s.params}})(this.core.clientId,{reqType:vn,address:this.address,params:{type:"sign",transaction:e}});return await Qn(s,this.core)}}async function Ba(){const{AccountAddress:e,Aptos:t,APTOS_COIN:s,AptosConfig:n,Serializer:a,SimpleTransaction:r,Ed25519Signature:i,Ed25519PublicKey:o,AccountAuthenticatorEd25519:c,Network:l,AccountAuthenticator:d}=await import("@aptos-labs/ts-sdk");return{AccountAddress:e,Aptos:t,APTOS_COIN:s,AptosConfig:n,Serializer:a,SimpleTransaction:r,Ed25519Signature:i,Ed25519PublicKey:o,AccountAuthenticatorEd25519:c,Network:l,AccountAuthenticator:d}}const La=(()=>{let e=null;return async(t=!1)=>{if(!e){const{AptosConfig:s,Aptos:n,Network:a}=await Ba(),r=new s(t?{fullnode:"https://testnet.bardock.movementnetwork.xyz/v1",faucet:"https://faucet.testnet.bardock.movementnetwork.xyz/"}:{fullnode:"https://mainnet.movementnetwork.xyz/v1",network:a.CUSTOM});e=new n(r)}return e}})();var Ua,Fa;!function(e){e.APPROVED="Approved",e.REJECTED="Rejected"}(Ua||(Ua={}));class Sa{address=null;publicKey=null;connected=!1;isConnected=!1;connection;core=null;chainId=126;constructor(){}setCore(e){this.core=e}signTransaction=async(e,s)=>{this.address||await this.getAddress();const n=await(async e=>{const{Serializer:t}=await Ba(),s=new t;e.serialize(s);const n=s.toUint8Array();return Buffer.from(n).toString("hex")})(e),a=((e,s)=>{const{reqType:n,address:a}=s;return{eventId:t.v4(),chainType:"movement",origin:window.location.origin,accessToken:Un(e),address:a,reqType:n,txMeta:s.params}})(this.core.clientId,{reqType:vn,address:this.address,params:{type:"sign",transaction:e,rawTransaction:n}}),r=await Qn(a,this.core);if(!r||"cancel"===r.toLowerCase())throw Error("Sign transaction failed.");const i=await(async e=>{const{data:t}=await aa.post("socialLogin/projectWallet/movement/signTransaction",{rawTransaction:e.rawTransaction},{headers:{mfa:e.mfa}});return t})({rawTransaction:n,mfa:r}),o=await(async e=>{try{const{Ed25519Signature:t,Ed25519PublicKey:s,AccountAuthenticatorEd25519:n}=await Ba(),a=JSON.parse(e),{publicKey:r,sig:i}=a,o=new t(i);return new n(new s(r),o)}catch(e){throw Error("sign error")}})(i.result);return{status:Ua.APPROVED,args:o}};signMessage=async e=>{const{message:t,nonce:s}=e,n=`${t}${s}`,a=jn(this.core.clientId,{chainType:"movement",reqType:wn,address:this.address,message:t}),r=await Qn(a,this.core);if(!r||"cancel"===r.toLowerCase())return{status:Ua.REJECTED};const i=await(async e=>{const{data:t}=await aa.post("socialLogin/projectWallet/movement/signMessage",{message:e.message},{headers:{mfa:e.mfa}});return t})({message:n,mfa:r});return{status:Ua.APPROVED,args:{address:this.address,fullMessage:n,message:t,nonce:s,prefix:"APTOS",signature:i.result}}};signAndSubmitTransaction=async e=>{this.address||await this.getAddress();const t=e.payload,s=250===this.chainId,n=await La(s),{AccountAddress:a}=await Ba(),r=await n.transaction.build.simple({sender:a.fromString(this.address),data:t}),i=await this.signTransaction(r),o=await(async({txn:e,senderAuthenticator:t,isTestnet:s=!1})=>{const n=await La(s);return await n.transaction.submit.simple({transaction:e,senderAuthenticator:t})})({txn:r,senderAuthenticator:i.args,isTestnet:s});return await(async(e,t=!1)=>{const s=await La(t);return await s.waitForTransaction({transactionHash:e})})(o.hash,s),{status:Ua.APPROVED,args:o}};getAddress=async()=>{try{const e=await _n(this.core.clientId);if(!e.result||!e.result.movementAddress)throw Error("Get address key failed.");return this.address=e.result.movementAddress,this.address}catch(e){throw e}};switchChain=async e=>{this.chainId=e};connect=async()=>{};disconnect=async()=>{}}function Ga(e){return!In.includes(e)&&(In.push(e),!0)}function za(e){var t;t=In.filter((t=>t!==e)),In=t}exports.LoginAction=void 0,(Fa=exports.LoginAction||(exports.LoginAction={})).Login="login",Fa.Link="link";const $a={[un.signReq]:({data:e},t)=>{Ga(e.eventId)&&(t.events.emit(`${mn}#${e.eventId}`,e),za(e.eventId))},[un.mfaCreate]:({data:e},t)=>{Ga(e.eventId)&&(t.events.emit(`${yn}#${e.eventId}`,e),za(e.eventId))},[un.normalReq]:({data:e},t)=>{Ga(e.eventId)&&(t.events.emit(`${gn}#${e.eventId}`,e),za(e.eventId))},[un.telegramAuth]:async({data:e,action:t},s)=>{if(e&&Ga(s.telegramAuthEventId))try{let n;n=t===exports.LoginAction.Link?await s.linkTelegram(e):await s.loginByTelegram(e),s.events.emit(`${bn}#${s.telegramAuthEventId}`,n)}catch(e){s.events.emit(`${bn}#${s.telegramAuthEventId}`,!1)}finally{za(s.telegramAuthEventId)}},[un.googleAuth]:async({data:e,action:t},s)=>{if(e?.code&&Ga(s.googleAuthEventId))try{let n;n=t===exports.LoginAction.Link?await s.linkGoogle(e.code):await s.loginByGoogle(e.code),s.events.emit(`${hn}#${s.googleAuthEventId}`,n)}catch(e){s.events.emit(`${hn}#${s.googleAuthEventId}`,!1)}finally{za(s.googleAuthEventId)}},[un.xAuth]:async({data:e,action:t},s)=>{if(e&&Ga(e.eventId)){En.debug("xEvents:",In);try{if(e?.code){let n;n=t===exports.LoginAction.Link?await s.linkTwitter(e.code):await s.loginByTwitter(e.code),s.events.emit(`${pn}#${e.eventId}`,n)}else e?.error&&s.events.emit(`${pn}#${e.eventId}`,!1)}catch(t){s.events.emit(`${pn}#${e.eventId}`,!1)}finally{za(e.eventId)}}},[un.kakaoAuth]:async({data:e},t)=>{if(!e.code)return;if(!Ga(t.kakaoAuthEventId))return;const n=d.stringify({grant_type:"authorization_code",client_id:cn,redirect_uri:ln,code:e.code});try{const e=await s.post("https://kauth.kakao.com/oauth/token",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!e?.data?.access_token)throw Error("access_token is empty");const a=await t.loginByKakao(e.data.access_token);t.events.emit(`${fn}#${t.kakaoAuthEventId}`,a)}catch(e){t.events.emit(`${fn}#${t.kakaoAuthEventId}`,!1)}finally{za(t.kakaoAuthEventId)}}};let Ma;function Ra(){return Ma||(Ma=new c.Connection("https://rpc.ankr.com/solana/c2d7e8a3db5dce62e202db3d28cca25e74da5028abbf20764e2961918ba34dfc","finalized"),Ma)}const Da=an,Na=["google","twitter","kakao","telegram"];exports.BASE_PROD_URL=na,exports.BASE_RELAY_PROD_URL=Da,exports.BASE_RELAY_TEST_URL="https://social-relay-dev.tomo.inc",exports.BASE_TEST_URL="https://fans-tech-backend.tomo.services/api/",exports.BitcoinProvider=ya,exports.EthereumProvider=xa,exports.Hash=De,exports.MovementProvider=Sa,exports.SolanaProvider=va,exports.SuiProvider=Aa,exports.TomoSDK=class{connectUrl=na;relayBase=an;events=new e;clientId="";chainConfig={chainId:1,rpcUrl:Fs.rpcUrls.default.http[0]};ethereumProvider;bitcoinProvider;solanaProvider;tronProvider;movementProvider;suiProvider;googleAuthEventId=""+Date.now();kakaoAuthEventId=""+Date.now();telegramAuthEventId=""+Date.now();walletDomain;constructor({clientId:e,connect:t,relayBase:s,ethereumProvider:n,walletDomain:a}){if(!e)throw Error("clientId is required");this.clientId=e,this.connectUrl=t||na,this.relayBase=s||an,this.walletDomain=a||"https://tomotg.tomo.inc",n&&(this.ethereumProvider=n,this.ethereumProvider.setCore(this)),this._initialize(),"undefined"!=typeof window&&(window.onmessage=this.msgProcessor.bind(this))}_initialize(){ia(this),En.setLevel("silent"),En.debug("relay base url:",this.relayBase),this.solanaProvider=new va,this.solanaProvider.setCore(this),this.tronProvider=new Ca,this.tronProvider.setCore(this),this.movementProvider=new Sa,this.movementProvider.setCore(this),this.suiProvider=new Aa,this.suiProvider.setCore(this),this.bitcoinProvider=new ya,this.bitcoinProvider.setCore(this),this.ethereumProvider||(this.ethereumProvider=new xa,this.ethereumProvider.setCore(this))}msgProcessor({origin:e,data:{type:t,data:s,action:n}}){return(({origin:e,data:{type:t,data:s,action:n}},a)=>{if(En.debug("messageProcessor:",e,t,s,n,a.relayBase),e!==a.relayBase&&e!==an)return;const r=$a[t];r&&r({data:s,action:n},a)})({origin:e,data:{type:t,data:s,action:n}},this)}login(e,s={}){if(!Na.includes(e))throw Error("Unsupported login type: "+e);const n=s?.action||exports.LoginAction.Login,a=window.location.origin;return"google"===e?new Promise(((e,t)=>{const s=JSON.stringify({origin:a,action:n}),r=Jn({url:`https://accounts.google.com/o/oauth2/v2/auth?response_type=id_token&client_id=479465761311-5da6b2ic7io7odr9jnrldai20046vk4t.apps.googleusercontent.com&scope=openid&access_type=offline&state=${encodeURIComponent(s)}&nonce=testnonce&prompt=select_account&redirect_uri=${dn}`,name:n===exports.LoginAction.Link?"Link Google":"Google login"});this.googleAuthEventId=""+Date.now(),Yn(r,this.events,hn,this.googleAuthEventId),this.events.once(`${hn}#${this.googleAuthEventId}`,(async s=>{En.debug("google login data:",s,n),s?e(!0):t(!1)}))})):"twitter"===e?new Promise(((e,s)=>{const r=n===exports.LoginAction.Link?"Link X":"X login",i=pn,o=t=>{t?e(!0):s(!1)},c=t.v4();Yn(Jn({url:`${on}?target=${a}&eventId=${c}&action=${n}`,name:r}),this.events,i,c),this.events.once(`${i}#${c}`,o)})):"kakao"===e?new Promise(((e,t)=>{const s=Jn({url:`https://kauth.kakao.com/oauth/authorize?client_id=${cn}&redirect_uri=${encodeURIComponent(ln)}&response_type=code`,name:"Kakao Login",width:800});this.kakaoAuthEventId=""+Date.now(),Yn(s,this.events,fn,this.kakaoAuthEventId),this.events.once(`${fn}#${this.kakaoAuthEventId}`,(s=>{En.debug("kakao login data:",s),s?e(!0):t(!1)}))})):"telegram"===e?new Promise(((e,t)=>{const s=Jn({url:`${this.relayBase}/telegram?action=${n}`,name:n===exports.LoginAction.Link?"Link Telegram":"Telegram Login"});this.telegramAuthEventId=""+Date.now(),Yn(s,this.events,bn,this.telegramAuthEventId),this.events.once(`${bn}#${this.telegramAuthEventId}`,(s=>{En.debug("telegram login data:",s),s?e(!0):t(!1)}))})):void 0}linkSocial(e){return this.login(e,{action:exports.LoginAction.Link})}async getLinkSocialInfo(){const e=await(async()=>{const{data:e}=await aa.get("socialLogin/projectUser/bound/status");return e})();if(!e.result)throw Error("get linked social info failed");return e.result}async loginByGoogle(e){try{const t=await(async(e,t)=>{try{const{data:s}=await aa.post("socialLogin/projectUser/loginByGoogle",{code:e,clientId:t});return s}catch(e){}})(e,this.clientId),s=t.result.token;if(!s)throw Error("Login failed");Fn(this.clientId,s);const n=t.result?.userInfoDTO?.id;return Gn(this.clientId,""+n),$n(this.clientId,"google"),Nn(),Hn(),!0}catch(e){return!1}}async linkGoogle(e){try{if(!(await oa({googleCode:e})).result)throw Error("Link failed");return!0}catch(e){return!1}}async loginByKakao(e){try{const t=await(async(e,t)=>{try{const{data:s}=await aa.post("socialLogin/projectUser/loginByKakao",{accessToken:e,clientId:t});return s}catch(e){}})(e,this.clientId),s=t.result.token;if(!s)throw Error("Login failed");Fn(this.clientId,s);const n=t.result?.userInfoDTO?.id;return Gn(this.clientId,""+n),$n(this.clientId,"kakao"),Nn(),Hn(),!0}catch(e){return!1}}async loginByTelegram(e){try{const t=await(async(e,t)=>{try{const{data:s}=await aa.post("socialLogin/projectUser/loginByTelegram",{telegramAuthData:e,clientId:t});return s}catch(e){}})(e,this.clientId),s=t.result.token;if(!s)throw Error("Login failed");Fn(this.clientId,s);const n=t.result?.userInfoDTO?.id;return Gn(this.clientId,""+n),$n(this.clientId,"telegram"),Nn(),Hn(),!0}catch(e){return!1}}async linkTelegram(e){try{if(!(await oa({telegramAuthData:e})).result)throw Error("Link failed");return!0}catch(e){return!1}}async loginByTwitter(e){try{const t=await(async(e,t)=>{try{const{data:s}=await aa.post("socialLogin/projectUser/loginByTwitter",{code:e,redirectUri:rn,clientId:t});return s}catch(e){}})(e,this.clientId),s=t.result.token;if(!s)throw Error("Login failed");Fn(this.clientId,s);const n=t.result?.userInfoDTO?.id;return Gn(this.clientId,""+n),$n(this.clientId,"twitter"),Nn(),Hn(),!0}catch(e){return!1}}async linkTwitter(e){try{if(!(await oa({twitterCode:e,twitterRedirectUri:rn})).result)throw Error("Link failed");return!0}catch(e){return!1}}async sendCode(e){try{const t=await(async e=>{try{const{data:t}=await s.get(`${ra}login/emailCheck?email=${e}`);return t}catch(e){}})(e);if(t.result){await(async(e,t)=>{try{const{data:s}=await aa.get(`socialLogin/projectUser/email/sendRegister?email=${e}&clientId=${t}`);return s}catch(e){}})(e,this.clientId);Dn(JSON.stringify({type:"signup",email:e}))}else{await(async(e,t)=>{try{const{data:s}=await aa.get(`socialLogin/projectUser/email/loginCode?email=${e}&clientId=${t}`);return s}catch(e){}})(e,this.clientId);Dn(JSON.stringify({type:"signin",email:e}))}return!0}catch(e){return!1}}async verifyCode(e){try{const t=Rn();if(!t||!t.email||"signup"!==t.type&&"signin"!==t.type)throw Error("Invalid request");let s;s="signup"===t.type?await(async(e,t,s)=>{try{const{data:n}=await aa.post("socialLogin/projectUser/email/verifyRegister",{email:e,code:t,clientId:s});return n}catch(e){}})(t.email,e,this.clientId):await(async(e,t,s)=>{try{const{data:n}=await aa.post("socialLogin/projectUser/email/loginVerify",{email:e,code:t,clientId:s});return n}catch(e){}})(t.email,e,this.clientId);const n=s.result.token,a=s.result?.userInfoDTO?.id;if(!n)throw Error("Login failed");return Fn(this.clientId,n),Gn(this.clientId,""+a),$n(this.clientId,"email"),Nn(),Hn(),!0}catch(e){return!1}}handleLoginByEmailSuccess(e){Fn(this.clientId,e),Nn(),Hn()}async getEthAddress(){try{const e=await _n(this.clientId);if(!e.result)throw Error("Get address failed.");return e.result.evmAddress}catch(e){return null}}async getPrices(e){try{const t=await(async e=>{try{const{data:t}=await s.get(`${ra}extension/price?symbol=${e}`);return t}catch(e){}})(e);return t.result}catch(e){return null}}async logout(){Bn(this.clientId,"token",null),(e=>{Bn(e,"userId",null)})(this.clientId),(e=>{Bn(e,"loginType",null)})(this.clientId),Nn(),Hn()}async tradePaswordStatus(){try{return!!(await(async()=>{const{data:e}=await aa.get("/socialLogin/teleGram/user/tradePaswordStatus");return e})()).result}catch(e){throw Error("Failed to send bind email code")}}async requestAccounts(e){try{const s=await this.getCustomization(),n=s?.theme?.projectName,a=function(){const e=document.getElementsByTagName("link");for(let t=0;e.length>t;t++)if("icon"===e[t].rel||"shortcut icon"===e[t].rel)return e[t].href;return null}(),r={eventId:t.v4(),origin:window.location.origin,icon:a,projectName:n,accessToken:Un(this.clientId),reqType:"requestAccounts",chainType:e||"evm"},i=await ta(r,this);return await async function(e){const{clientId:t}=e,s=Un(t),n=document.createElement("iframe");n.style.display="none",n.src=e.relayBase+"/normal",document.body.appendChild(n);try{return await new Promise((e=>{const a=r=>{if("READY"===r.data.status){const e={auth:{userId:Sn(t),clientId:t,jwt:s,setIframeToken:!0}};n.contentWindow?.postMessage(e,"*")}else r.data.setTokenSuccess&&(window.removeEventListener("message",a),e(""))};window.addEventListener("message",a)}))}catch(e){}finally{document.body.removeChild(n)}}(this),i}catch(e){throw Error("Failed to request accounts",e)}}async verifyLoginEmail(e){const s=Rn();if(!s||!s.email||"signup"!==s.type&&"signin"!==s.type)throw Error("Invalid request");try{const n={eventId:t.v4(),origin:window.location.origin,accessToken:Un(this.clientId),reqType:"verifyLoginEmail",email:e,clientId:this.clientId,type:s.type};return await ta(n,this)}catch(e){throw Error("Failed to get code")}}async setPayPinAndEmail(){try{const e={eventId:t.v4(),origin:window.location.origin,accessToken:Un(this.clientId),reqType:"setPayPinAndEmail"};return await ta(e,this)}catch(e){throw Error("Failed to set pay pin")}}async setPayPin(){try{const e={eventId:t.v4(),origin:window.location.origin,accessToken:Un(this.clientId),reqType:"setPayPin"};return await ta(e,this)}catch(e){throw Error("Failed to set pay pin")}}async changePayPin(){try{const e={eventId:t.v4(),origin:window.location.origin,accessToken:Un(this.clientId),reqType:"changePayPin"};return await ta(e,this)}catch(e){throw Error("Failed to change pay pin")}}async bindEmail(){try{const e={eventId:t.v4(),origin:window.location.origin,accessToken:Un(this.clientId),reqType:"bindEmail"};return await ta(e,this)}catch(e){throw Error("Failed to bind Email")}}async addRecoveryEmail(e){try{const s={eventId:t.v4(),origin:window.location.origin,accessToken:Un(this.clientId),reqType:"addRecoveryEmail",type:e};return await ta(s,this)}catch(e){throw Error("Failed to add recovery Email")}}async hasEmail(){try{return!!(await(async()=>{const{data:e}=await aa.get("socialLogin/projectUser/email");return e})()).result}catch(e){throw Error("Failed to get result")}}async bindEmailCode(e){try{const t=await(async e=>{const{data:t}=await aa.get("socialLogin/projectUser/bindEmailCode?email="+e);return t})(e);return!!t.result}catch(e){throw Error("Failed to send bind email code")}}async bindEmailCodeVerify(e,t){try{const s=await(async(e,t)=>{const{data:s}=await aa.post("socialLogin/projectUser/bindEmailCodeVerify",{email:e,code:t});return s})(e,t);return!!s.result}catch(e){throw Error("Failed to verify bind email code")}}async getDefaultTokens(){try{return(await(async()=>{const{data:e}=await s.get(ra+"wallet/defaultTokens");return e})()).result}catch(e){throw Error("Failed to get default tokens")}}async getDashboardTokens(e,t){try{const s=await(async(e,t)=>{const{data:s}=await aa.get(`${ra}socialLogin/projectUser/getTokensOnClientId?clientId=${e}&chainId=${t}`);return s})(e,t);return s.result}catch(e){throw Error("Failed to get default tokens")}}async searchToken(e){try{const t=await(async e=>{const{data:t}=await s.get(`${ra}wallet/tokens/search?content=${e}`);return t})(e);return t.result}catch(e){throw Error("Failed to search token")}}async getHoldEvmTokens(e){try{const t=await(async e=>{const{data:t}=await s.get(`${ra}wallet/holdingTokensOnEthereum?address=${e}`);return t})(e);return t.result}catch(e){throw Error("Failed to get hold evm tokens")}}async getHoldSolTokens(e){try{const t=await(async e=>{const{data:t}=await s.get(`${ra}wallet/holdingTokensOnSolana?address=${e}`);return t})(e);return t.result}catch(e){throw Error("Failed to get hold solana tokens")}}async getUserWalletTokens(e){try{const t=await(async e=>{const{data:t}=await aa.get("socialLogin/projectWallet/userWalletTokens?address="+e);return t})(e);return t.result}catch(e){throw Error("Failed to get tokens")}}async userWalletTokensUpdate(e){try{const t=await(async e=>{const{data:t}=await aa.post("socialLogin/projectWallet/userWalletTokens",{tokens:e});return t})(e);return t.result}catch(e){throw Error("Failed to update tokens")}}async userWalletTokenAdd(e,t){try{const s=await(async(e,t)=>{const{data:s}=await aa.post("socialLogin/projectWallet/userWalletTokens/add",{token:e,walletAddress:t});return s})(e,t);return s.result}catch(e){throw Error("Failed to add token")}}async userWalletTokenRemove(e,t){try{const s=await(async(e,t)=>{const{data:s}=await aa.post("socialLogin/projectWallet/userWalletTokens/remove",{token:e,walletAddress:t});return s})(e,t);return s.result}catch(e){throw Error("Failed to remove token")}}async createPasskey(){try{const e={eventId:t.v4(),origin:window.location.origin,accessToken:Un(this.clientId),reqType:"passkey"};return await(async(e,t)=>{const s=zn(t.clientId);e.loginType=s;const n=qn(a.stringify(e)),r=Jn({url:`${t.relayBase}/mfa?req=${n}`,name:"mfa Request"});return new Promise(((s,n)=>{Yn(r,t.events,yn,e.eventId),t.events.once(`${yn}#${e.eventId}`,(e=>{En.debug("result:",e),t.getEthAddress().then((t=>{e.error?(Mn(t,!1),n(e.error)):(Mn(t,!0),s(e.result))})).catch((e=>{n(e)}))}))}))})(e,this)}catch(e){throw Error("Failed to create passkey")}}async getPasskeyStatus(){try{const e=(e=>{try{const t=Cn();return t?.[e]?.localPasskey}catch(e){return}})(await this.getEthAddress());return{localCreated:e,remoteExised:(await(async()=>{const{data:e}=await aa.get("socialLogin/mfa/passkey/existence");return e})()).result}}catch(e){throw Error("Failed to get passkey status")}}async getJwtToken(){try{return await getAuth(this)}catch(e){throw Error("Failed to get jwt token")}}async getUserSocialInfo(){try{const e=await(async()=>{const{data:e}=await aa.get("socialLogin/projectUser/socialInfo");return e})(),t=e.result?.inviterBound,s=Date.now();if(!t&&18e4>=s-e?.result?.createTime){const e=await(async e=>{const{data:t}=await aa.get("socialLogin/projectUser/ownerUid?clientId="+e);return t})(this.clientId);e.result&&(async e=>{const{data:t}=await aa.post("socialLogin/projectUser/bindInviter",{inviter:e})})(e.result)}return e.result}catch(e){throw Error("Failed to get user social info")}}async getSwapTokens(e){try{const t=await(async e=>{const{data:t}=await aa.get("socialLogin/projectWallet/token/swapList?chain="+e);return t})(e);return t.result}catch(e){throw Error("Failed to get swap tokens")}}async getCustomization(){return(await la(this.clientId)).result}static async getCustomization(e){return(await la(e)).result}async onboarding(e){try{return await sa(u.WebWalletInvokeType.ONBOARDING,this,e)}catch(e){throw Error("Failed to onboarding: "+e)}}async openSwap(e){try{return await sa(u.WebWalletInvokeType.SWAP,this,e)}catch(e){throw Error("Failed to swap: "+e)}}async openChangePayPin(e){try{return await sa(u.WebWalletInvokeType.CHANGE_PAY_PIN,this,e)}catch(e){throw Error("Failed to change pay pin: "+e)}}async openOnramp(e){try{return await sa(u.WebWalletInvokeType.ONRAMP,this,e)}catch(e){throw Error("Failed to onramp: "+e)}}async openSend(e){try{return await sa(u.WebWalletInvokeType.SEND,this,e)}catch(e){throw Error("Failed to send: "+e)}}async openReceive(e){try{return await sa(u.WebWalletInvokeType.RECEIVE,this,e)}catch(e){throw Error("Failed to receive: "+e)}}closeAllRelayWindow(){Vn.forEach((e=>e?.close())),Vn.length=0}handleWebWalletInvoke=async(e,t)=>{try{switch(this.closeAllRelayWindow(),e){case u.WebWalletInvokeType.ONRAMP:this.openOnramp(t);break;case u.WebWalletInvokeType.SWAP:this.openSwap(t);break;case u.WebWalletInvokeType.SEND:this.openSend(t);break;case u.WebWalletInvokeType.RECEIVE:this.openReceive(t);break;case u.WebWalletInvokeType.CHANGE_PAY_PIN:this.openChangePayPin(t)}}catch(e){}}},exports.TronProvider=Ca,exports.abytes=Ae,exports.add=function(e,t,s,n){const a=(t>>>0)+(n>>>0);return{h:e+s+(a/2**32|0)|0,l:0|a}},exports.add3H=(e,t,s,n)=>t+s+n+(e/2**32|0)|0,exports.add3L=(e,t,s)=>(e>>>0)+(t>>>0)+(s>>>0),exports.aexists=Ce,exports.anumber=Te,exports.aoutput=Be,exports.clean=Ue,exports.createOptHasher=function(e){const t=(t,s)=>e(s).update(Re(t)).digest(),s=e({});return t.outputLen=s.outputLen,t.blockLen=s.blockLen,t.create=t=>e(t),t},exports.createSolTx=async function(e,t,s,n){try{Ra();const a=new c.Transaction,r=new c.PublicKey(e),i=new c.PublicKey(t);if(a.feePayer||(a.feePayer=r),n){const o=new c.PublicKey(n),l=await h.getAssociatedTokenAddress(o,new c.PublicKey(e)),d=await h.getAssociatedTokenAddress(o,new c.PublicKey(t));let u;a.recentBlockhash=(await Ma.getLatestBlockhash()).blockhash;try{u=await h.getAccount(Ma,d)}catch(e){if(!(e instanceof h.TokenAccountNotFoundError||e instanceof h.TokenInvalidAccountOwnerError))throw e;try{a.add(h.createAssociatedTokenAccountInstruction(r,d,i,o))}catch(e){}}a.add(h.createTransferInstruction(l,d,r,s,[],h.TOKEN_PROGRAM_ID))}else a.recentBlockhash=(await Ma.getLatestBlockhash()).blockhash,a.add(c.SystemProgram.transfer({fromPubkey:r,toPubkey:i,lamports:s}));return a}catch(e){return null}},exports.fromBase64=function(e){return Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))},exports.fromBig=Ke,exports.getConnection=Ra,exports.parseSolTx=async function(e){let t,s="",n="",a=0;const r=Ra();for(const i of e.instructions)if(i.programId.equals(h.TOKEN_PROGRAM_ID)&&3===i.data[0]){const e=i.data.slice(1,9);a=Number(new p(e,"le"));const o=i.keys[0]?.pubkey,c=i.keys[1]?.pubkey;try{const e=await h.getAccount(r,c);t=""+e.mint,n=""+e.owner}catch(e){}if(!s&&o)try{s=""+(await h.getAccount(r,o)).owner}catch(e){}}for(const s of e.instructions)if(s.programId.equals(h.ASSOCIATED_TOKEN_PROGRAM_ID)){const e=s.keys[3]?.pubkey,a=s.keys[2]?.pubkey;e&&a&&(t=""+e,n=""+a)}for(const t of e.instructions)if(t.programId.equals(c.SystemProgram.programId)&&2===t.data[0]){const e=t.keys[0]?.pubkey.toString(),r=t.keys[1]?.pubkey.toString(),i=t.data.slice(4);a=Number(new p(i,"le")),s=e,n=r}return{from:s,to:n,value:a,mintAddress:t}},exports.rotr32H=(e,t)=>t,exports.rotr32L=(e,t)=>e,exports.rotrBH=(e,t,s)=>e<<64-s|t>>>s-32,exports.rotrBL=(e,t,s)=>e>>>s-32|t<<64-s,exports.rotrSH=(e,t,s)=>e>>>s|t<<32-s,exports.rotrSL=(e,t,s)=>e<<32-s|t>>>s,exports.setHeaders=function(e){if(!aa)throw"api not initialized yet";aa.interceptors.request.use((t=>(Object.entries(e).forEach((([e,s])=>{t.headers[e]=s})),t)))},exports.swap32IfBE=Me,exports.swap8IfBE=$e,exports.toBase64=ka,exports.toBytes=Re,exports.u32=Le;
//# sourceMappingURL=index-Bx0d4IRl.js.map
